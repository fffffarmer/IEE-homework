<!doctype html>
<html lang="zh" data-hairline="true" data-theme="light"><head><meta charSet="utf-8"/><title data-react-helmet="true">黄大洋 - 知乎</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/><meta name="renderer" content="webkit"/><meta name="force-rendering" content="webkit"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><meta name="google-site-verification" content="FTeR0c8arOPKh8c5DYh_9uu98_zJbaWw53J-Sch9MTg"/><title>知乎 - 有问题上知乎</title><meta name="description" content="有问题，上知乎。知乎是中文互联网知名知识分享平台，以「知识连接一切」为愿景，致力于构建一个人人都可以便捷接入的知识分享网络，让人们便捷地与世界分享知识、经验和见解，发现更大的世界。"/><link rel="shortcut icon" type="image/x-icon" href="https://static.zhihu.com/static/favicon.ico"/><link rel="search" type="application/opensearchdescription+xml" href="https://static.zhihu.com/static/search.xml" title="知乎"/><link rel="dns-prefetch" href="//static.zhimg.com"/><link rel="dns-prefetch" href="//pic1.zhimg.com"/><link rel="dns-prefetch" href="//pic2.zhimg.com"/><link rel="dns-prefetch" href="//pic3.zhimg.com"/><link rel="dns-prefetch" href="//pic4.zhimg.com"/><link href="https://static.zhihu.com/heifetz/main.app.ae5f819ea51859c3afe0.css" rel="stylesheet"/></head><body class="Entry-body"><div id="root"><div data-zop-usertoken="{}" data-reactroot=""><div class="LoadingBar"></div><div><header role="banner" class="Sticky AppHeader" data-za-module="TopNavBar"><div class="AppHeader-inner"><a href="//www.zhihu.com" aria-label="知乎"><svg viewBox="0 0 200 91" class="Icon ZhihuLogo ZhihuLogo--blue Icon--logo" style="height:30px;width:64px" width="64" height="30" aria-hidden="true"><title></title><g><path d="M53.29 80.035l7.32.002 2.41 8.24 13.128-8.24h15.477v-67.98H53.29v67.978zm7.79-60.598h22.756v53.22h-8.73l-8.718 5.473-1.587-5.46-3.72-.012v-53.22zM46.818 43.162h-16.35c.545-8.467.687-16.12.687-22.955h15.987s.615-7.05-2.68-6.97H16.807c1.09-4.1 2.46-8.332 4.1-12.708 0 0-7.523 0-10.085 6.74-1.06 2.78-4.128 13.48-9.592 24.41 1.84-.2 7.927-.37 11.512-6.94.66-1.84.785-2.08 1.605-4.54h9.02c0 3.28-.374 20.9-.526 22.95H6.51c-3.67 0-4.863 7.38-4.863 7.38H22.14C20.765 66.11 13.385 79.24 0 89.62c6.403 1.828 12.784-.29 15.937-3.094 0 0 7.182-6.53 11.12-21.64L43.92 85.18s2.473-8.402-.388-12.496c-2.37-2.788-8.768-10.33-11.496-13.064l-4.57 3.627c1.363-4.368 2.183-8.61 2.46-12.71H49.19s-.027-7.38-2.372-7.38zm128.752-.502c6.51-8.013 14.054-18.302 14.054-18.302s-5.827-4.625-8.556-1.27c-1.874 2.548-11.51 15.063-11.51 15.063l6.012 4.51zm-46.903-18.462c-2.814-2.577-8.096.667-8.096.667s12.35 17.2 12.85 17.953l6.08-4.29s-8.02-11.752-10.83-14.33zM199.99 46.5c-6.18 0-40.908.292-40.953.292v-31.56c1.503 0 3.882-.124 7.14-.376 12.773-.753 21.914-1.25 27.427-1.504 0 0 3.817-8.496-.185-10.45-.96-.37-7.24 1.43-7.24 1.43s-51.63 5.153-72.61 5.64c.5 2.756 2.38 5.336 4.93 6.11 4.16 1.087 7.09.53 15.36.277 7.76-.5 13.65-.76 17.66-.76v31.19h-41.71s.88 6.97 7.97 7.14h33.73v22.16c0 4.364-3.498 6.87-7.65 6.6-4.4.034-8.15-.36-13.027-.566.623 1.24 1.977 4.496 6.035 6.824 3.087 1.502 5.054 2.053 8.13 2.053 9.237 0 14.27-5.4 14.027-14.16V53.93h38.235c3.026 0 2.72-7.432 2.72-7.432z" fill-rule="evenodd"/></g></svg></a><nav role="navigation" class="AppHeader-nav"><a class="AppHeader-navItem" href="//www.zhihu.com/" data-za-not-track-link="true">首页</a><a class="AppHeader-navItem" href="//www.zhihu.com/explore" data-za-not-track-link="true">发现</a><a href="//www.zhihu.com/topic" class="AppHeader-navItem" data-za-not-track-link="true">话题</a></nav><div class="SearchBar" role="search" data-za-module="PresetWordItem"><div class="SearchBar-toolWrapper"><form class="SearchBar-tool"><div><div class="Popover"><div class="SearchBar-input Input-wrapper Input-wrapper--grey"><input type="text" maxLength="100" value="" autoComplete="off" role="combobox" aria-expanded="false" aria-autocomplete="list" aria-activedescendant="null--1" id="null-toggle" aria-haspopup="true" aria-owns="null-content" class="Input" placeholder=""/><div class="Input-after"><button aria-label="搜索" type="button" class="Button SearchBar-searchIcon Button--primary"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--Search" fill="currentColor" viewBox="0 0 24 24" width="18" height="18"><path d="M17.068 15.58a8.377 8.377 0 0 0 1.774-5.159 8.421 8.421 0 1 0-8.42 8.421 8.38 8.38 0 0 0 5.158-1.774l3.879 3.88c.957.573 2.131-.464 1.488-1.49l-3.879-3.878zm-6.647 1.157a6.323 6.323 0 0 1-6.316-6.316 6.323 6.323 0 0 1 6.316-6.316 6.323 6.323 0 0 1 6.316 6.316 6.323 6.323 0 0 1-6.316 6.316z" fill-rule="evenodd"></path></svg></span></button></div></div></div></div></form></div></div><div class="AppHeader-userInfo"><div class="AppHeader-profile"><div><button type="button" class="Button AppHeader-login Button--blue">登录</button><button type="button" class="Button Button--primary Button--blue">加入知乎</button></div></div></div></div></header></div><main role="main" class="App-main"><div itemProp="people" itemType="http://schema.org/Person" itemscope=""><meta itemProp="url" content="https://www.zhihu.com/people/huang-da-yang"/><meta itemProp="gender" content="Male"/><meta itemProp="image" content="https://pic1.zhimg.com/da8e974dc_is.jpg"/><meta itemProp="zhihu:voteupCount" content="0"/><meta itemProp="zhihu:thankedCount" content="0"/><meta itemProp="zhihu:followerCount" content="10"/><meta itemProp="zhihu:answerCount" content="0"/><meta itemProp="zhihu:articlesCount" content="0"/><div id="ProfileHeader" class="ProfileHeader"><div class="Card"><div class="ProfileHeader-userCover"><div class="UserCover UserCover--colorBlock"></div></div><div class="ProfileHeader-wrapper"><div class="ProfileHeader-main"><div class="UserAvatar ProfileHeader-avatar" style="top:-25px"><img class="Avatar Avatar--large UserAvatar-inner" width="160" height="160" src="https://pic1.zhimg.com/da8e974dc_xl.jpg" srcSet="https://pic1.zhimg.com/da8e974dc_xll.jpg 2x"/></div><div class="ProfileHeader-content"><div class="ProfileHeader-contentHead"><h1 class="ProfileHeader-title"><span class="ProfileHeader-name">黄大洋</span><span class="RichText ztext ProfileHeader-headline"></span></h1></div><div style="overflow:hidden;transition:height 300ms ease-out" class="ProfileHeader-contentBody"><div><div class="ProfileHeader-info"><div class="ProfileHeader-infoItem"><div class="ProfileHeader-iconWrapper"><svg viewBox="0 0 20 18" class="Icon Icon--company" style="height:16px;width:13px" width="13" height="16" aria-hidden="true"><title></title><g><path d="M15 3.998v-2C14.86.89 13.98 0 13 0H7C5.822 0 5.016.89 5 2v2l-3.02-.002c-1.098 0-1.97.89-1.97 2L0 16c0 1.11.882 2 1.98 2h16.033c1.1 0 1.98-.89 1.987-2V6c-.007-1.113-.884-2.002-1.982-2.002H15zM7 4V2.5s-.004-.5.5-.5h5c.5 0 .5.5.5.5V4H7z"/></g></svg></div>计算机软件</div><div class="ProfileHeader-infoItem"><div class="ProfileHeader-iconWrapper"><svg width="14" height="16" viewBox="0 0 14 14" class="Icon Icon--male" style="height:16px;width:14px" aria-hidden="true"><title></title><g><path d="M3.025 10.64c-1.367-1.366-1.367-3.582 0-4.95 1.367-1.366 3.583-1.366 4.95 0 1.367 1.368 1.367 3.584 0 4.95-1.367 1.368-3.583 1.368-4.95 0zm10.122-9.368c-.002-.414-.34-.75-.753-.753L8.322 0c-.413-.002-.746.33-.744.744.002.413.338.75.75.752l2.128.313c-.95.953-1.832 1.828-1.832 1.828-2.14-1.482-5.104-1.27-7.013.64-2.147 2.147-2.147 5.63 0 7.777 2.15 2.148 5.63 2.148 7.78 0 1.908-1.91 2.12-4.873.636-7.016l1.842-1.82.303 2.116c.003.414.34.75.753.753.413.002.746-.332.744-.745l-.52-4.073z" fill-rule="evenodd"/></g></svg></div></div></div></div></div><div class="ProfileHeader-contentFooter"><div class="ProfileMainPrivacy-authWrapper"><button type="button" class="Button ProfileHeader-expandButton Button--plain"><svg viewBox="0 0 10 6" class="Icon ProfileHeader-arrowIcon Icon--arrow" style="height:16px;width:10px" width="10" height="16" aria-hidden="true"><title></title><g><path d="M8.716.217L5.002 4 1.285.218C.99-.072.514-.072.22.218c-.294.29-.294.76 0 1.052l4.25 4.512c.292.29.77.29 1.063 0L9.78 1.27c.293-.29.293-.76 0-1.052-.295-.29-.77-.29-1.063 0z"/></g></svg>查看详细资料</button></div><div class="MemberButtonGroup ProfileButtonGroup ProfileHeader-buttons"><button type="button" class="Button FollowButton Button--primary Button--blue"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--Plus FollowButton-icon" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path d="M13.491 10.488s-.012-5.387 0-5.998c-.037-1.987-3.035-1.987-2.997 0-.038 1.912 0 5.998 0 5.998H4.499c-1.999.01-1.999 3.009 0 3.009s5.995-.01 5.995-.01v5.999c0 2.019 3.006 2.019 2.997 0-.01-2.019 0-5.998 0-5.998s3.996.009 6.004.009c2.008 0 2.008-3-.01-3.009h-5.994z" fill-rule="evenodd"></path></svg></span>关注他</button><button type="button" class="Button Button--grey Button--withIcon Button--withLabel"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--Comments Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path d="M11 2c5.571 0 9 4.335 9 8 0 6-6.475 9.764-11.481 8.022-.315-.07-.379-.124-.78.078-1.455.54-2.413.921-3.525 1.122-.483.087-.916-.25-.588-.581 0 0 .677-.417.842-1.904.064-.351-.14-.879-.454-1.171A8.833 8.833 0 0 1 2 10c0-3.87 3.394-8 9-8zm10.14 9.628c.758.988.86 2.009.86 3.15 0 1.195-.619 3.11-1.368 3.938-.209.23-.354.467-.308.722.12 1.073.614 1.501.614 1.501.237.239-.188.562-.537.5-.803-.146-1.495-.42-2.546-.811-.29-.146-.336-.106-.563-.057-2.043.711-4.398.475-6.083-.927 5.965-.524 8.727-3.03 9.93-8.016z" fill-rule="evenodd"></path></svg></span>发私信</button></div></div></div></div></div></div></div><div class="Profile-main"><div class="Profile-mainColumn"><div class="Card ProfileMain" id="ProfileMain"><div class="ProfileMain-header"><ul role="tablist" class="Tabs ProfileMain-tabs"><div class="ProfileMainPrivacy-authWrapper"><li role="tab" class="Tabs-item ProfileMainPrivacy-pointerWrapper Tabs-item--noMeta" aria-controls="Profile-answers"><span class="Tabs-link">动态</span></li></div><div class="ProfileMainPrivacy-authWrapper"><li role="tab" class="Tabs-item ProfileMainPrivacy-pointerWrapper" aria-controls="Profile-answers"><span class="Tabs-link">回答<span class="Tabs-meta">0</span></span></li></div><div class="ProfileMainPrivacy-authWrapper"><li role="tab" class="Tabs-item ProfileMainPrivacy-pointerWrapper" aria-controls="Profile-answers"><span class="Tabs-link">提问<span class="Tabs-meta">0</span></span></li></div><div class="ProfileMainPrivacy-authWrapper"><li role="tab" class="Tabs-item ProfileMainPrivacy-pointerWrapper" aria-controls="Profile-posts"><span class="Tabs-link">文章<span class="Tabs-meta">0</span></span></li></div><div class="ProfileMainPrivacy-authWrapper"><li role="tab" class="Tabs-item ProfileMainPrivacy-pointerWrapper" aria-controls="Profile-answers"><span class="Tabs-link">专栏<span class="Tabs-meta">0</span></span></li></div><div class="ProfileMainPrivacy-authWrapper"><li role="tab" class="Tabs-item ProfileMainPrivacy-pointerWrapper" aria-controls="Profile-pins"><span class="Tabs-link">想法<span class="Tabs-meta">0</span></span></li></div><div class="ProfileMainPrivacy-authWrapper"><li role="tab" class="Tabs-item ProfileMainPrivacy-pointerWrapper Tabs-item--noMeta" aria-controls="Profile-answers"><span class="Tabs-link">更多<svg viewBox="0 0 10 6" class="Icon ProfileMain-tabIcon Icon--arrow" style="height:16px;width:10px" width="10" height="16" aria-hidden="true"><title></title><g><path d="M8.716.217L5.002 4 1.285.218C.99-.072.514-.072.22.218c-.294.29-.294.76 0 1.052l4.25 4.512c.292.29.77.29 1.063 0L9.78 1.27c.293-.29.293-.76 0-1.052-.295-.29-.77-.29-1.063 0z"/></g></svg></span></li></div></ul></div><div class="ProfileMainPrivacy-mainContentWrapper"><div class="ProfileMainPrivacy-mainContent"><svg width="150" height="120" viewBox="0 0 150 120"><title></title><g><g fill="none" fill-rule="evenodd"><path fill="#EBEEF5" fill-rule="nonzero" d="M87.012 50h15.045c4.144 0 7.503 3.354 7.503 7.493v33.322a7.492 7.492 0 0 1-7.492 7.493H48.492A7.499 7.499 0 0 1 41 90.815V57.493C41 53.353 44.36 50 48.503 50h15.045c1.22 0 2.4.427 3.32 1.214a12.889 12.889 0 0 0 8.412 3.103 12.89 12.89 0 0 0 8.412-3.103A5.101 5.101 0 0 1 87.012 50zM62 47.5h-3v-5C59 34.513 65.1 28 72.68 28h5.64C85.9 28 92 34.509 92 42.5v5h-3v-5C89 36.125 84.198 31 78.32 31h-5.64C66.803 31 62 36.127 62 42.5v5zm-6 0h-3v-5.01C53 31.19 61.777 22 72.632 22h5.736C89.225 22 98 31.193 98 42.49v5.01h-3v-5.01C95 32.82 87.536 25 78.368 25h-5.736C63.465 25 56 32.818 56 42.49v5.01zM87.012 53c-.512 0-.999.176-1.37.493a15.89 15.89 0 0 1-10.362 3.824 15.888 15.888 0 0 1-10.363-3.824A2.103 2.103 0 0 0 63.548 53H48.503A4.497 4.497 0 0 0 44 57.493v33.322a4.499 4.499 0 0 0 4.492 4.493h53.576a4.492 4.492 0 0 0 4.492-4.493V57.493A4.498 4.498 0 0 0 102.057 53H87.012z"/><path fill="#F8F9FA" d="M80.094 72.154a4.621 4.621 0 0 1-2.048 3.837v4.443a2.598 2.598 0 0 1-2.61 2.589 2.595 2.595 0 0 1-2.602-2.59v-4.442a4.62 4.62 0 0 1-2.048-3.837c0-2.558 2.083-4.631 4.654-4.631 2.57 0 4.654 2.073 4.654 4.63zM49.1 88.914c0-.78.63-1.414 1.412-1.414h49.976c.78 0 1.412.628 1.412 1.414 0 .781-.63 1.415-1.412 1.415H50.512a1.41 1.41 0 0 1-1.412-1.415zm0-27c0-.78.63-1.414 1.412-1.414h49.976c.78 0 1.412.628 1.412 1.414 0 .781-.63 1.415-1.412 1.415H50.512a1.41 1.41 0 0 1-1.412-1.415z"/></g></g></svg><span class="ProfileMainPrivacy-mainContentText">该用户设置了隐私保护，<div><button type="button" class="Button ProfileMainPrivacy-mainContentLink Button--link Button--white">登录查看</button></div>他<!-- -->的动态、回答、文章等内容</span></div></div></div></div><div class="Profile-sideColumn" data-za-module="RightSideBar"></div></div></div></main></div></div><div id="data" style="display:none" data-state="{&quot;common&quot;:{&quot;ask&quot;:{}},&quot;privacy&quot;:{&quot;showPrivacy&quot;:false},&quot;loading&quot;:{&quot;global&quot;:{&quot;count&quot;:0},&quot;local&quot;:{&quot;people/get/&quot;:false,&quot;people/getActivities/huang-da-yang&quot;:false}},&quot;entities&quot;:{&quot;users&quot;:{&quot;huang-da-yang&quot;:{&quot;isFollowed&quot;:false,&quot;educations&quot;:[],&quot;followingCount&quot;:305,&quot;voteFromCount&quot;:0,&quot;userType&quot;:&quot;people&quot;,&quot;includedText&quot;:&quot;&quot;,&quot;pinsCount&quot;:0,&quot;isFollowing&quot;:false,&quot;isPrivacyProtected&quot;:true,&quot;accountStatus&quot;:[],&quot;includedArticlesCount&quot;:0,&quot;isForceRenamed&quot;:false,&quot;id&quot;:&quot;ff3c15a9c32bdb1ebce6bec4c2e93160&quot;,&quot;favoriteCount&quot;:8,&quot;voteupCount&quot;:0,&quot;commercialQuestionCount&quot;:0,&quot;isBlocking&quot;:false,&quot;followingColumnsCount&quot;:68,&quot;headline&quot;:&quot;&quot;,&quot;urlToken&quot;:&quot;huang-da-yang&quot;,&quot;participatedLiveCount&quot;:2,&quot;isAdvertiser&quot;:false,&quot;followingFavlistsCount&quot;:39,&quot;favoritedCount&quot;:0,&quot;isOrg&quot;:false,&quot;followerCount&quot;:10,&quot;employments&quot;:[],&quot;type&quot;:&quot;people&quot;,&quot;avatarHue&quot;:&quot;&quot;,&quot;avatarUrlTemplate&quot;:&quot;https://pic1.zhimg.com/da8e974dc_{size}.jpg&quot;,&quot;followingTopicCount&quot;:8,&quot;description&quot;:&quot;&quot;,&quot;business&quot;:{&quot;introduction&quot;:&quot;徼&quot;,&quot;avatarUrl&quot;:&quot;https://pic1.zhimg.com/e82bab09c_is.jpg&quot;,&quot;name&quot;:&quot;计算机软件&quot;,&quot;url&quot;:&quot;http://www.zhihu.com/topics/19619368&quot;,&quot;type&quot;:&quot;topic&quot;,&quot;excerpt&quot;:&quot;徼&quot;,&quot;id&quot;:&quot;19619368&quot;},&quot;avatarUrl&quot;:&quot;https://pic1.zhimg.com/da8e974dc_is.jpg&quot;,&quot;columnsCount&quot;:0,&quot;hostedLiveCount&quot;:0,&quot;isActive&quot;:1,&quot;thankToCount&quot;:0,&quot;mutualFolloweesCount&quot;:0,&quot;coverUrl&quot;:&quot;&quot;,&quot;thankFromCount&quot;:0,&quot;voteToCount&quot;:0,&quot;isBlocked&quot;:false,&quot;answerCount&quot;:0,&quot;allowMessage&quot;:false,&quot;articlesCount&quot;:0,&quot;name&quot;:&quot;黄大洋&quot;,&quot;questionCount&quot;:0,&quot;locations&quot;:[],&quot;badge&quot;:[],&quot;includedAnswersCount&quot;:0,&quot;url&quot;:&quot;http://www.zhihu.com/people/ff3c15a9c32bdb1ebce6bec4c2e93160&quot;,&quot;messageThreadToken&quot;:&quot;2941514100&quot;,&quot;logsCount&quot;:0,&quot;followingQuestionCount&quot;:478,&quot;thankedCount&quot;:0,&quot;gender&quot;:1}},&quot;questions&quot;:{},&quot;answers&quot;:{&quot;275191448&quot;:{&quot;relationship&quot;:{&quot;isAuthor&quot;:false,&quot;voting&quot;:0,&quot;isThanked&quot;:false,&quot;isNothelp&quot;:false,&quot;upvotedFolloweeIds&quot;:[]},&quot;markInfos&quot;:[],&quot;excerpt&quot;:&quot;张伯伦并非消极懦弱，「绥靖」政策只是他应对当时外交困境的手段之一。他对英国人民与反抗纳粹的贡献，远高于人们的认知—— 张伯伦是投降主义者吗｜大象公会 文｜吴余 1940 年 5 月，温斯顿·丘吉尔接替内维尔·张伯伦出任英国首相，在二战初期盟军兵败如山的危急时刻执掌大局。近期上映的电影《至暗时刻》，再次回顾了这个历史瞬间。影片中的张伯伦无能、虚弱、急于求和，与意志坚定的丘吉尔形成鲜明对比。&lt;i&gt;▍《至暗时刻》中的…&lt;/i&gt;&quot;,&quot;createdTime&quot;:1513085840,&quot;previewType&quot;:&quot;default&quot;,&quot;id&quot;:275191448,&quot;isCopyable&quot;:true,&quot;author&quot;:{&quot;isFollowed&quot;:false,&quot;type&quot;:&quot;people&quot;,&quot;name&quot;:&quot;大象公会&quot;,&quot;headline&quot;:&quot;精 神 食 粮&quot;,&quot;urlToken&quot;:&quot;da-xiang-gong-hui-12&quot;,&quot;userType&quot;:&quot;organization&quot;,&quot;url&quot;:&quot;https://api.zhihu.com/people/fe2f97cc117338d2704b547caef9e79f&quot;,&quot;avatarUrl&quot;:&quot;https://pic4.zhimg.com/50/v2-08580d5f57e4c933f2941b77bb570b98_s.jpg&quot;,&quot;isFollowing&quot;:false,&quot;isOrg&quot;:true,&quot;gender&quot;:1,&quot;badge&quot;:[],&quot;id&quot;:&quot;fe2f97cc117338d2704b547caef9e79f&quot;},&quot;url&quot;:&quot;https://api.zhihu.com/answers/275191448&quot;,&quot;commentPermission&quot;:&quot;all&quot;,&quot;question&quot;:{&quot;author&quot;:{&quot;isFollowed&quot;:false,&quot;type&quot;:&quot;people&quot;,&quot;name&quot;:&quot;特拉博尔&quot;,&quot;headline&quot;:&quot;板鸭国最烂汉语教师&quot;,&quot;urlToken&quot;:&quot;tan-pan-35&quot;,&quot;userType&quot;:&quot;people&quot;,&quot;url&quot;:&quot;https://api.zhihu.com/people/dcef0bb57160dbbc2b5398c209c752b6&quot;,&quot;avatarUrl&quot;:&quot;https://pic4.zhimg.com/50/da8e974dc_s.jpg&quot;,&quot;isFollowing&quot;:false,&quot;isOrg&quot;:false,&quot;gender&quot;:1,&quot;badge&quot;:[],&quot;id&quot;:&quot;dcef0bb57160dbbc2b5398c209c752b6&quot;},&quot;created&quot;:1390266838,&quot;url&quot;:&quot;https://api.zhihu.com/questions/22569270&quot;,&quot;title&quot;:&quot;二战前英法的「绥靖」政策是上策、中策、还是下策？&quot;,&quot;excerpt&quot;:&quot;站在英法的当时的情况上分析（也就是不要开上帝模式），有没有比绥靖政策更好的方式？&quot;,&quot;answerCount&quot;:61,&quot;boundTopicIds&quot;:[1234,1595,3115,16450,19593],&quot;commentCount&quot;:7,&quot;isFollowing&quot;:false,&quot;followerCount&quot;:1249,&quot;type&quot;:&quot;question&quot;,&quot;id&quot;:22569270},&quot;updatedTime&quot;:1513086142,&quot;content&quot;:&quot;&lt;p&gt;张伯伦并非消极懦弱，「绥靖」政策只是他应对当时外交困境的手段之一。他对英国人民与反抗纳粹的贡献，远高于人们的认知——&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2&gt;张伯伦是投降主义者吗｜大象公会&lt;/h2&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;文｜吴余&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;1940 年 5 月，温斯顿·丘吉尔接替内维尔·张伯伦出任英国首相，在二战初期盟军兵败如山的危急时刻执掌大局。&lt;/p&gt;&lt;p&gt;近期上映的电影《至暗时刻》，再次回顾了这个历史瞬间。影片中的张伯伦无能、虚弱、急于求和，与意志坚定的丘吉尔形成鲜明对比。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic1.zhimg.com/v2-b915874439db15e23c5343b788c8daeb_b.jpg\&quot; data-caption=\&quot;\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;720\&quot; data-rawheight=\&quot;299\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;720\&quot; data-original=\&quot;https://pic1.zhimg.com/v2-b915874439db15e23c5343b788c8daeb_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;i&gt;▍《至暗时刻》中的张伯伦（左）与丘吉尔（右）&lt;/i&gt;&lt;/p&gt;&lt;p&gt;张伯伦的软弱形象，主要来自著名的绥靖政策，他因此被主战派舆论视为缺乏勇气、无条件妥协、放任敌人做大、最终招致失败的国家罪人。&lt;/p&gt;&lt;p&gt;尤其是丘吉尔战后撰写的回忆录，将张伯伦描述为一位缺乏智慧，被希特勒蒙蔽的弱者，对纳粹肆虐欧洲负有不可推卸的责任。正统的历史叙述中的张伯伦形象也以此为基础。&lt;/p&gt;&lt;p&gt;然而，1960 年代开始，张伯伦时期的英国政府档案开始陆续解密。这些档案及新近的研究，为我们呈现出一种截然不同的结论。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2&gt;&lt;b&gt;大英帝国的困境&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;1937 年 5 月 28 日，内维尔·张伯伦出任英国首相时，已经是 68 岁的老人。&lt;/p&gt;&lt;p&gt;和他的父亲不同，青年时代的内维尔·张伯伦对政治缺乏兴趣。从政前，他有成功的商业履历，热爱自然史和旅行，向往社会改革，是维多利亚后期英国商人阶级的典范。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic4.zhimg.com/v2-00bb3c8fe5e10d252c7ab17564551330_b.jpg\&quot; data-caption=\&quot;\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;695\&quot; data-rawheight=\&quot;444\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;695\&quot; data-original=\&quot;https://pic4.zhimg.com/v2-00bb3c8fe5e10d252c7ab17564551330_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;i&gt;▍与中年从政的儿子（右）不同，内维尔的父亲约瑟夫·张伯伦（左）一直是雄心勃勃的政客，作为从未上过大学的平民商人，在内阁长期出任贸易委员会主席（1880-1885）和殖民地大臣（1895-1903），见证了大英帝国的黄金年代&lt;/i&gt;&lt;/p&gt;&lt;p&gt;42 岁时，张伯伦为了造福家乡，首次参与本地议员选举。凭借精明和勤奋，他仅用十年就进入保守党核心，从 1923 年到 1931 年长期出任英国卫生大臣，从事他热心的社会改良事业。&lt;/p&gt;&lt;p&gt;1931 年，英国遭受大萧条冲击，政府预算严重超支，张伯伦临危受命出任财政大臣。通过削减政府开支和实施有限的贸易保护政策，他迅速实现财政平衡，由此步入英国军事外交决策的核心决策圈。&lt;/p&gt;&lt;p&gt;正是从 1931 年开始，英国国防环境开始急转直下，显露危机。&lt;/p&gt;&lt;p&gt;从一战结束至 1930 年代初，曾经的对手纷纷失势，大英帝国得以享受久违的和平，力图通过凡尔赛和约、华盛顿条约等国际军控体系，维持英国海上优势和世界稳定局势。&lt;/p&gt;&lt;p&gt;对欧洲，英国严格遵循 1926 年洛迦诺公约，充当超然其外的「离岸平衡手」。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic4.zhimg.com/v2-40cd0655ed9e631d686200d525a9ac61_b.jpg\&quot; data-caption=\&quot;\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;720\&quot; data-rawheight=\&quot;517\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;720\&quot; data-original=\&quot;https://pic4.zhimg.com/v2-40cd0655ed9e631d686200d525a9ac61_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;i&gt;▍在洛迦诺公约中，英国与意大利保证在德国、法国发生冲突时支援被侵略国；法国与波兰、捷克分别约定遭受侵略时互相支援，英国为避免卷入东欧纷争而拒绝参与。图中左起依次为：古斯塔夫·施特雷泽曼、奥斯丁·张伯伦、阿里斯蒂德·白里安。&lt;/i&gt;&lt;/p&gt;&lt;p&gt;从 1919 到 1932 年，英国一直执行「十年规则」，即假定在十年之内不会爆发欧洲战争，将军费维持在极低的水平。英国军备因此长期不能更新，大量军工企业破产解散。&lt;/p&gt;&lt;p&gt;结果，随着日本入侵东北（1931）、鼓吹民族主义的希特勒在德国掌权（1933）以及德日两国退出国联（1933），英国忽然同时遭遇了德国、日本这两大潜在强敌。&lt;/p&gt;&lt;p&gt;英国决策者很快意识到，由于军事实力的相对衰落，和帝国庞大的领地和利益，此时的英国已经处在极为不利、极易遭到攻击的境地。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic3.zhimg.com/v2-803fd7847011ecf7d21ae8bb0d00e4d1_b.jpg\&quot; data-caption=\&quot;\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;720\&quot; data-rawheight=\&quot;480\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;720\&quot; data-original=\&quot;https://pic3.zhimg.com/v2-803fd7847011ecf7d21ae8bb0d00e4d1_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;i&gt;▍1931 年的大英帝国及其全球利益&lt;/i&gt;&lt;/p&gt;&lt;p&gt;正如第一海务大臣（海军总参谋长）查特菲尔德所说：「我们在众目睽睽下处在一个不想与任何人起争执的地位上，因为我们已经获得了世界的大部分或其中最好的部分，我们只想保住我们得到的东西不要被人抢走。」&lt;/p&gt;&lt;p&gt;他们也意识到，如果德国和日本想对英国开战，最可能、最有利的方式就是同时下手。英国的军力将难以兼顾远东和西欧两个战场，这样一场规模不亚于世界大战的战争将彻底摧毁英国的强国地位。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic2.zhimg.com/v2-c1d4308d3afbb8729475616efd372dc0_b.jpg\&quot; data-caption=\&quot;\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;598\&quot; data-rawheight=\&quot;468\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;598\&quot; data-original=\&quot;https://pic2.zhimg.com/v2-c1d4308d3afbb8729475616efd372dc0_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;i&gt;▍一战时担任五位官方战地记者之一的菲利普·吉布斯表示：「对英国而言，赢得或输掉另一场世界大战将会是一切的终结。」此类言论往往被简单解释为一战后的厌战情绪，事实上却反映了当时英国面临的危机。&lt;/i&gt;&lt;/p&gt;&lt;p&gt;与此同时，能帮助英国化解危机的盟友却少得可怜，此时的美国奉行孤立主义，英国能仰仗的伙伴只有法国和意大利。&lt;/p&gt;&lt;p&gt;1935 年入侵埃塞尔比亚之前，意大利长期表现得乐于保卫欧洲和平，不仅作为保证国加入洛迦诺公约，还在 1934 年与英法组建斯特雷萨阵线（Stresa Front），反对德国挑战现有秩序。&lt;/p&gt;&lt;p&gt;然而，由于意大利入侵埃塞尔比亚导致英意敌对，意大利后来倒向德国，法国成了英国唯一可依赖对抗德国的盟友。&lt;/p&gt;&lt;p&gt;不过，法国对保卫英国的全球利益毫无兴趣。&lt;/p&gt;&lt;p&gt;1935 年埃塞尔比亚战争爆发时，英国立即集结地中海舰队准备实施武装干涉，甚至制定了航母袭击港口和军工厂的计划。但法国却徒劳的想与意大利保持对德同盟，拒绝对意开战，在地中海缺乏安全基地的英国只得放弃。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic4.zhimg.com/v2-f3d3967bea347ada79e22530255752d4_b.jpg\&quot; data-caption=\&quot;\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;720\&quot; data-rawheight=\&quot;468\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;720\&quot; data-original=\&quot;https://pic4.zhimg.com/v2-f3d3967bea347ada79e22530255752d4_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;i&gt;▍集结于直布罗陀的英国舰队。英国地中海舰队原基地为马耳他，但因处于意大利空军威胁下，被迫临时将基地转移至亚历山大&lt;/i&gt;&lt;/p&gt;&lt;p&gt;相对的，英国对法国也有所保留，担心其会对德国发动预防性战争，把未做好准备的盟友英国拖入全球战争泥潭。&lt;/p&gt;&lt;p&gt;强敌环绕却内部乏力，英国在此等紧张局势下只能直面危机，重新武装。&lt;/p&gt;&lt;p&gt;1934 年，财政大臣内维尔·张伯伦迈出了坚实的第一步。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2&gt;&lt;b&gt;张伯伦直面危机&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;1933 年 11 月，刚刚结束「十年规则」的英国，因德国和日本的挑战而召集成立国防需求会议（Defence Requirements Committee），用于确定长期军备废弛后最急迫的问题。&lt;/p&gt;&lt;p&gt;讨论从当年 11 月延续至 1934 年 2 月，主要争议在于，首要的敌人是近在咫尺但尚未武装的德国，还是全面武装但远在东亚的日本。&lt;/p&gt;&lt;p&gt;财政部的备忘录认为，英国缺乏资源，难以「在两个遥远的战场上同时对抗两个一等强国」，但会议最终还是给出折衷结论，认为两者要同等应对。&lt;/p&gt;&lt;p&gt;这种说法立即遭到了财政大臣张伯伦的反驳。2 月 28 日的内阁讨论中，张伯伦指出，英国当前的财政实力不足以同时应对德国和日本，必须选择其一。就在当年，张伯伦刚刚宣布，通过削减政府开支实现财政盈余。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic1.zhimg.com/v2-5708cdfea4b6a65867bd60a1a7edbb21_b.jpg\&quot; data-caption=\&quot;\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;383\&quot; data-rawheight=\&quot;383\&quot; class=\&quot;content_image\&quot; width=\&quot;383\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;i&gt;▍1934 年刚刚宣布实现财政盈余的财政大臣张伯伦 &lt;/i&gt;&lt;/p&gt;&lt;p&gt;事实上，虽然丘吉尔自豪地宣称，只有自己在 1930 年代注意到了德国的威胁，但早在 1934 年，张伯伦就最先在内阁级别的讨论中，明确提出德国优先的国防战略：&lt;/p&gt;&lt;blockquote&gt;德国的威胁虽在时间上还远，离我们却最近。&lt;br&gt;&lt;br&gt;现在……我们的安全没有急迫的威胁。但这里存在着一种普遍的对未来的忧虑，不论两年、三年、五年或十年后，这种威胁就可能成为现实。它将来自德国。&lt;/blockquote&gt;&lt;p&gt;根据国防需求会议的结论，一旦开战，德国唯一能直接攻击英国的手段将是空军。考虑到盟友法国能提供强大的陆军，张伯伦力主将陆军军费削减一半，加强皇家空军预算，并增设防空火力。&lt;/p&gt;&lt;p&gt;张伯伦正确地预见到，将有限的资源投入空军建设，对英国国防事业是最有益的选择。因此，针对性的强化空军，其次是海军，从此成为了他实现英国再武装的主要政策。&lt;/p&gt;&lt;p&gt;然而，确定再武装的规模及其花销，始终是个困难的问题。&lt;/p&gt;&lt;p&gt;与德国开战的时间不能确定，大规模军备建设不仅需要大量技术工人和资源，还需大量进口机械与稀有金属，与出口导向的英国民用经济有着严重的冲突。张伯伦必须在当下的经济和未来不可预期的战争间作出权衡。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic2.zhimg.com/v2-55f2188d2c6caf6f1d03a9fea6533ba4_b.jpg\&quot; data-caption=\&quot;\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;612\&quot; data-rawheight=\&quot;458\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;612\&quot; data-original=\&quot;https://pic2.zhimg.com/v2-55f2188d2c6caf6f1d03a9fea6533ba4_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;i&gt;▍这种担忧绝非空想。1938 年初，国防协调大臣托马斯·英斯基（Sir Thomas Inskip）便告知内阁，英国即将在财政破产或是战备失败间作出难堪的选择。&lt;/i&gt;&lt;/p&gt;&lt;p&gt;此外，从一战以来，英国军政界秉持的战争观念就是利用强大的皇家海军实施海上封锁，利用庞大的帝国和经济资源在长期消耗战中耗死敌人。这种漫长消耗战的预期，更强调保存长期的经济活力。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic3.zhimg.com/v2-44550baf711fa25cd98e1ece6c58cd01_b.jpg\&quot; data-caption=\&quot;\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;720\&quot; data-rawheight=\&quot;497\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;720\&quot; data-original=\&quot;https://pic3.zhimg.com/v2-44550baf711fa25cd98e1ece6c58cd01_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;i&gt;▍一战中德国、奥匈帝国的崩溃并非缘于战场溃败，而是长期物资封锁后的爆发的社会叛乱。1937 年，英国财政部官员将漫长战争中稳定的经济称为「第四支武装」。&lt;/i&gt;&lt;/p&gt;&lt;p&gt;这些因素，让张伯伦决定将英国再武装的速度控制在适中的水平。&lt;/p&gt;&lt;p&gt;然而，这也使得张伯伦推动的军费税法案在议会两头不讨好。激进派丘吉尔认为军备开支太少，落后于德国武装的速度；工党领袖艾德礼则攻击其为战争贩子，「只顾制造杀人凶器」。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic2.zhimg.com/v2-cd6c0eeb24ebed4ea46c7e21421454e3_b.jpg\&quot; data-caption=\&quot;\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;720\&quot; data-rawheight=\&quot;450\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;720\&quot; data-original=\&quot;https://pic2.zhimg.com/v2-cd6c0eeb24ebed4ea46c7e21421454e3_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;i&gt;▍直至 1939 年 4 月，工党一直保持着对所有军备法案一律投反对票的记录。图为工党领袖艾德礼。&lt;/i&gt;&lt;/p&gt;&lt;p&gt;但无论如何，如果张伯伦在 1937 年退休，这些党派化的议会争吵不可能影响到他的历史地位。&lt;/p&gt;&lt;p&gt;作为卫生大臣和财政大臣，张伯伦辛勤工作，力图改善英国工人的生活，削减财政赤字，并正确的影响了英国国防战略，使英国的备战步入正轨。&lt;/p&gt;&lt;p&gt;然而，随后开始的首相任期，及其采取的绥靖政策在后世遭到的争议，彻底摧毁了张伯伦作为政治家的声誉。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2&gt;&lt;b&gt;绥靖错了吗？&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;战后研究者与公共舆论大力抨击张伯伦，并不难以理解：绥靖政策的确放大了希特勒的野心，没能将其扼杀在襁褓中，结果纳粹德国走向强大，犯下滔天罪行。&lt;/p&gt;&lt;p&gt;然而，就此认为张伯伦糊涂消极，一味妥协，并不公允。&lt;/p&gt;&lt;p&gt;实施绥靖政策时，张伯伦并不知道，纳粹政权企图颠覆世界秩序、实施种族灭绝。&lt;/p&gt;&lt;p&gt;更重要的是，绥靖政策只是张伯伦大战略中的一个部分。&lt;/p&gt;&lt;p&gt;当张伯伦 1937 年 5 月成为英国首相时，英国的国际环境已经比 1934 年更加恶化。&lt;/p&gt;&lt;p&gt;1935 年的埃塞俄比亚战争，使意大利从潜在的盟友成了新的假想敌。日本于当年 7 月全面发动对华战争，并在南京战役中攻击了英国在长江的船只。美国仍旧严格恪守中立。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic4.zhimg.com/v2-1ec7fb7c656eceab34f15d0b60af7e09_b.jpg\&quot; data-caption=\&quot;\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;560\&quot; data-rawheight=\&quot;314\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;560\&quot; data-original=\&quot;https://pic4.zhimg.com/v2-1ec7fb7c656eceab34f15d0b60af7e09_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;i&gt;▍日军攻击南京期间，包括SS Whangpu在内的英国航船搭载了大量从城中疏散出的英国侨民，但在12月11日至12日遭到日军的炮击和轰炸&lt;/i&gt;&lt;/p&gt;&lt;p&gt;因此，英国同时面临着西欧、远东和地中海三个方向的巨大压力。&lt;/p&gt;&lt;p&gt;英国总参谋部的一份报告写道：「当前局势的一个显著特征是，从一个地区开始的战争，蔓延到另一个或另两个地区的可能性正在增强……我们不能预见届时我们的防御力量是否足以同时对抗德国、日本、意大利。」&lt;/p&gt;&lt;p&gt;面对危机，张伯伦的选择是他自己称之为「两手政策」（double policy）的战略：一方面，重整军备，实施战略威慑；另一方面，则利用外交手段，避免爆发大战，并力图分化三大假想敌。&lt;/p&gt;&lt;p&gt;张伯伦认为，英国最强大的威慑力，来自其海军封锁和长期经济消耗战的潜力。只要能顶住德军头几波猛攻，「盟军就必将胜利，唯一的问题只是需要多少时间达成目的。」&lt;/p&gt;&lt;p&gt;随着局势的恶化，张伯伦不断提高英国军费，扩充空军和海军。离开财政部前夕，他再次提高了军备建设支出的优先级，为 1937 至 1942 年的军备建设提供了 15 亿英镑的预算，1938 年初又追加 1.5 亿，为此受到工党的激烈抨击。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic3.zhimg.com/v2-d14c39a0ea3e8b89cad3d2281fe5b6d9_b.jpg\&quot; data-caption=\&quot;\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;640\&quot; data-rawheight=\&quot;566\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;640\&quot; data-original=\&quot;https://pic3.zhimg.com/v2-d14c39a0ea3e8b89cad3d2281fe5b6d9_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;i&gt;▍张伯伦执政时期，英国海军扩充速度大大提高&lt;/i&gt;&lt;/p&gt;&lt;p&gt;1937 年夏，张伯伦发现，即便英国全力备战，其空军飞机的数量增长仍慢于德国。在这种情况下，他决定在发展战斗机的同时优先发展战略轰炸机，以取得不对等的战略威慑能力，直到 1938 年慕尼黑危机后转为优先发展战斗机。&lt;/p&gt;&lt;p&gt;与此同时，张伯伦施展被称为绥靖的外交手段，力图避免全面开战，并试图消泯英国以一对三的极为不利的实力对比。&lt;/p&gt;&lt;p&gt;在英国军政决策圈中，绥靖政策的基本原则得到了广泛的支持。国防协调大臣托马斯·英斯基要求外交部减少「我们对外承诺的规模和潜在的敌人」，第一海务大臣查特菲尔德则表示，在面对三国潜在威胁时，「我们有必要做朋友，而不做敌人。」&lt;/p&gt;&lt;p&gt;事实上，张伯伦的绥靖政策的确取得了部分成功。&lt;/p&gt;&lt;p&gt;通过承认意大利对埃塞俄比亚的征服和一系列谈判，英国极大缓解了其与意大利的紧张关系。&lt;/p&gt;&lt;p&gt;1939 年 1 月，张伯伦与哈利法克斯访问罗马。墨索里尼在 1938 年慕尼黑危机、1939 年波兰危机中，也都希望外交手段解决问题。&lt;/p&gt;&lt;p&gt;直至 1940 年 6 月法国战败，墨索里尼确信英法败局已定，才突然加入战争。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic1.zhimg.com/v2-0ddfb53e85ff4bad1f4c4d97a4b891a7_b.jpg\&quot; data-caption=\&quot;\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;720\&quot; data-rawheight=\&quot;426\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;720\&quot; data-original=\&quot;https://pic1.zhimg.com/v2-0ddfb53e85ff4bad1f4c4d97a4b891a7_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;i&gt;▍当时意大利并未做好战争准备，因此在多个战场遭到惨败。参见&lt;u&gt;&lt;a href=\&quot;http://link.zhihu.com/?target=http%3A//mp.weixin.qq.com/s%3F__biz%3DMjM5NzQwNjcyMQ%3D%3D%26mid%3D402806070%26idx%3D1%26sn%3D18452cd921a75c0f30f0d7bcd2b6a287%26scene%3D21%23wechat_redirect\&quot; class=\&quot; wrap external\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noreferrer\&quot;&gt;《意大利军队为什么弱》&lt;/a&gt;&lt;/u&gt;。&lt;/i&gt;&lt;/p&gt;&lt;p&gt;不过，问题的关键还在德国。英国内阁确信，意大利和日本很可能只会在德国率先开战后跟进，只要解决德国的威胁，很大程度上也就解决了所有问题。&lt;/p&gt;&lt;p&gt;1938 年前，希特勒所有的扩张行动，都是声称遵照凡尔赛和约确立的民族自决精神，要恢复德国的正当地位。&lt;/p&gt;&lt;p&gt;这些主张与一个普通民族主义政客并无不同，张伯伦认为可以与其达成协议，并非幼稚或软弱。&lt;/p&gt;&lt;p&gt;因此，当 1938 年德国以收回德意志人聚居地为由造成慕尼黑危机时，张伯伦被迫选择，是要为了一片与英国无关的遥远土地爆发全面战争，还是牺牲捷克斯洛伐克的利益，满足德国民族主义「不难理解」的要求，维持和平。&lt;/p&gt;&lt;p&gt;张伯伦并非一开始就决定妥协，事实上，他一度准备了对德开战预案。但是，军方认为英国不可能阻止德国占领捷克斯洛伐克，并过分夸大的预计德国对英国的战略轰炸将在头三周内造成五十万平民的死亡。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic1.zhimg.com/v2-7b36d084116262bc5417716aa558b4e5_b.jpg\&quot; data-caption=\&quot;\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;631\&quot; data-rawheight=\&quot;738\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;631\&quot; data-original=\&quot;https://pic1.zhimg.com/v2-7b36d084116262bc5417716aa558b4e5_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;i&gt;▍1938 年 9 月，帝国防务会议代表伊斯梅将军（Ismay）给内阁的信。伊斯梅认为，英法空军目前处于劣势，但推迟战争 6 到 12 个月将使皇家空军有时间获得能对抗德国空军的实力，这是击败希特勒的唯一机会。这一意见影响了张伯伦的决定。&lt;/i&gt;&lt;/p&gt;&lt;p&gt;当张伯伦亲自询问法国总理达拉第，英法联手是否一定能取胜时，达拉第回答「我不相信」。&lt;/p&gt;&lt;p&gt;最终，张伯伦只得无奈而半信半疑的接受了《慕尼黑协定》。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic1.zhimg.com/v2-da57aa337f40ebb667efc61044b82d5e_b.jpg\&quot; data-caption=\&quot;\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;720\&quot; data-rawheight=\&quot;513\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;720\&quot; data-original=\&quot;https://pic1.zhimg.com/v2-da57aa337f40ebb667efc61044b82d5e_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;i&gt;▍1938 年 9 月 30 日，张伯伦从慕尼黑返回伦敦，在唐宁街 10 号门口对记者说：「这是我们时代的和平……安心睡个好觉去吧！」该言论常被视为张伯伦幼稚受骗的表现，事实上他并未放松警惕，这更多是为了显露英国维护外交协定的善意。&lt;/i&gt;&lt;/p&gt;&lt;p&gt;不过，张伯伦的妥协并非没有底线。面对战争危机，他在1939年将英国军费开支提高到历史最高水平，达到全国财政支出的一半。&lt;/p&gt;&lt;p&gt;1939 年 3 月 15 日，德军违反协定，占领捷克斯洛伐克全境。感到被欺骗的张伯伦立即严词谴责德国暴行，随即放弃英国只保卫西欧国家的传统政策，于 3 月 31 日第一次为东欧国家波兰作出独立保证。同时，他仍未放弃通过外交谈判实现和平的努力。&lt;/p&gt;&lt;p&gt;1939 年 9 月 1 日，德军不顾张伯伦的威胁进攻波兰。9 月 3 日，张伯伦对德宣战。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic1.zhimg.com/v2-689533314b19883049e98965a5131519_b.jpg\&quot; data-caption=\&quot;\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;648\&quot; data-rawheight=\&quot;365\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;648\&quot; data-original=\&quot;https://pic1.zhimg.com/v2-689533314b19883049e98965a5131519_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;p&gt;这次，惊慌失措的是希特勒，此前他听信外长里宾特洛甫的保证，认为英法不会履行对波兰的承诺。&lt;/p&gt;&lt;p&gt;张伯伦最终掌握了开战的主动权。不幸的是，盟国糟糕的军事实力，尤其是法国糟糕的动员速度，使主动权优势化为泡影。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2&gt;&lt;b&gt;张伯伦的遗产&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;战争爆发后，张伯伦当了 8 个月的战时首相。&lt;/p&gt;&lt;p&gt;与一般印象不同，张伯伦直至辞职之际，仍在党内拥有极高的民望，在民间享有极高的支持率（60%）。张伯伦的辞职，也并非因为其战前的绥靖政策，而是 1940 年 4 月发动的挪威战役失利，使他失去了工党的支持。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic3.zhimg.com/v2-5cab6c92672c906202b812d5eb3b0ce3_b.jpg\&quot; data-caption=\&quot;\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;620\&quot; data-rawheight=\&quot;413\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;620\&quot; data-original=\&quot;https://pic3.zhimg.com/v2-5cab6c92672c906202b812d5eb3b0ce3_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;i&gt;▍张伯伦的战时内阁，战争爆发后，他特别邀请丘吉尔担任海军大臣&lt;/i&gt;&lt;/p&gt;&lt;p&gt;讽刺的是，对于这次失利，直接责任人无疑是具体拟定战役的海军大臣丘吉尔，而非张伯伦。&lt;/p&gt;&lt;p&gt;战备和外交之外，张伯伦首相任期内的内政成就更令人印象深刻：&lt;/p&gt;&lt;p&gt;1937 年，他推动议会通过旨在改善工厂的工作条件，限制妇女儿童工作时间的《工厂法》；1938 年，又通过了对贫民窟整改给予补贴、限制租金的《住房法》，以及《带薪休假法》，极大改善了英国工人阶级的生活条件。&lt;/p&gt;&lt;p&gt;直到临终，张伯伦还希望人们不要忘记他为社会进步作出的努力。&lt;/p&gt;&lt;p&gt;然而，他的历史地位已经不可逆转的与其战前的外交政策联系在了一起。&lt;/p&gt;&lt;p&gt;1940 年 11 月张伯伦去世后，丘吉尔在下院如此赞颂他的一生：&lt;/p&gt;&lt;blockquote&gt;无论历史将怎样记述这些糟糕的、激烈的岁月，我们可以确信，内维尔·张伯伦完全真诚地按他的智慧行事，尽他最大的所能和有力的权威，希望从可怕的、毁灭性的战争——就是我们现在参与的这场战争——中拯救世界。仅这一点，就足以让他在所谓的历史的判决中位居高位。&lt;/blockquote&gt;&lt;p&gt;但是，由于战时宣传和工党的抨击，到 1948 年丘吉尔《二战回忆录》第一卷完成时，张伯伦的声望已经有了 180 度转折。&lt;/p&gt;&lt;p&gt;在回忆录中意欲显示自己远见的丘吉尔，对张伯伦战前政策评价极低，正统叙事由此奠定。&lt;/p&gt;&lt;p&gt;客观而言，张伯伦战前的「两手政策」是在极大限制条件下，所能设计出的最好的政策方案。它经过精密的计算，且合乎逻辑。历史学家认为，面对同样的局势，即便丘吉尔也无法更好的化解危机。&lt;/p&gt;&lt;p&gt;何况，张伯伦的政策并非完全失败。其整军备战的努力，为英国在战争中幸存和胜利起到了至关重要的作用。&lt;/p&gt;&lt;p&gt;得益于张伯伦自 1934 年起强调的空军和防空建设，在二战爆发之际，英国本土已经建成世界最先进的对空雷达网，新式的喷火式战斗机确保了不列颠空战的胜利，而兰开斯特型重型轰炸机则有力打击了德国的战争潜力。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic4.zhimg.com/v2-ff858ff02cfd99fd010b7b8de5279a9d_b.jpg\&quot; data-caption=\&quot;\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;590\&quot; data-rawheight=\&quot;421\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;590\&quot; data-original=\&quot;https://pic4.zhimg.com/v2-ff858ff02cfd99fd010b7b8de5279a9d_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;i&gt;▍帮助英国打赢不列颠空战的喷火式战斗机&lt;/i&gt;&lt;/p&gt;&lt;p&gt;作为这一政策的组成部分，张伯伦的绥靖外交尽管对德国最终失败，也无法回避为了本国利益而牺牲他国利益的道德谴责，但毕竟为英国争取了延缓战争爆发的备战时间，也成功阻止了意大利在第一时间加入战争，为盟军创造了良好的动员环境。&lt;/p&gt;&lt;p&gt;英国之所以在 1940 年 6 月陷入战争史上最危急的处境，被迫独自与德国、意大利同时作战，并非张伯伦的过错。&lt;/p&gt;&lt;p&gt;让意大利加入战争、英国本土面临入侵威胁的核心原因是法国陆军的迅速崩溃，而在战争开始之前，无论张伯伦、丘吉尔还是他们的法国同僚，都完全信赖完成动员的法国陆军能挡住德军的攻击。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic4.zhimg.com/v2-c120d674a1d054b2f18e14f44573966e_b.jpg\&quot; data-caption=\&quot;\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;720\&quot; data-rawheight=\&quot;506\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;720\&quot; data-original=\&quot;https://pic4.zhimg.com/v2-c120d674a1d054b2f18e14f44573966e_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;i&gt;▍1940 年 6 月，德军占领巴黎&lt;/i&gt;&lt;/p&gt;&lt;p&gt;事实上，张伯伦最终未能从德国人手中取得其所希望的和平，在相当程度上也是希特勒的独特个性与纳粹独裁制度决定的。&lt;/p&gt;&lt;p&gt;张伯伦相信，英国在一战中利用海军封锁迫使德国爆发革命的史实足以作为英国军事威慑最有力的证明。作为理性政治家，当充分考虑这种威慑的效力。&lt;/p&gt;&lt;p&gt;这种威慑在德国内部不乏接受者。如海军总司令雷德尔，在 1938 年前一直反对与英国的战争。他多次指出：德国海军无力反制英国的海上封锁，而德国经济与军工所需的稀有金属都依赖进出口，海路一断，陆战必败。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic1.zhimg.com/v2-40f4e169ce66f0410fd1598c5c736726_b.jpg\&quot; data-caption=\&quot;\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;720\&quot; data-rawheight=\&quot;990\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;720\&quot; data-original=\&quot;https://pic1.zhimg.com/v2-40f4e169ce66f0410fd1598c5c736726_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;i&gt;▍德国海军元帅埃里希·雷德尔 &lt;/i&gt;&lt;/p&gt;&lt;p&gt;直到 1938 年希特勒下令制定对英作战计划，德国海军从未试图把英国作为假想敌。&lt;/p&gt;&lt;p&gt;然而，希特勒对此漠不关心，且认为一战德国的战败是意志软弱与共产主义阴谋的结果。由于忽视英国的威慑，他将张伯伦的和平呼吁视为软弱和犹豫的表现。如果柏林的主人不是希特勒，张伯伦的政策或许会有不一样的结局。&lt;/p&gt;&lt;p&gt;时至今日，越来越多的研究者开始重新审视张伯伦的历史形象。对张伯伦的最新评价，来自英国保守党的官方历史学家莱克斯登勋爵：&lt;/p&gt;&lt;blockquote&gt;内维尔·张伯伦，一个伟大而被误解的人；&lt;br&gt;保守党历史上最伟大的社会改革者；&lt;br&gt;他在他的时代寻求和平，以求继续完成他为所有人追求富足的使命。&lt;/blockquote&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic1.zhimg.com/v2-8bfc37d448c204e87648258a4be45912_b.jpg\&quot; data-caption=\&quot;\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;536\&quot; data-rawheight=\&quot;685\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;536\&quot; data-original=\&quot;https://pic1.zhimg.com/v2-8bfc37d448c204e87648258a4be45912_r.jpg\&quot;&gt;&lt;/figure&gt;&quot;,&quot;commentCount&quot;:190,&quot;voteupCount&quot;:962,&quot;reshipmentSettings&quot;:&quot;allowed&quot;,&quot;thanksCount&quot;:172,&quot;excerptNew&quot;:&quot;张伯伦并非消极懦弱，「绥靖」政策只是他应对当时外交困境的手段之一。他对英国人民与反抗纳粹的贡献，远高于人们的认知—— 张伯伦是投降主义者吗｜大象公会 文｜吴余 1940 年 5 月，温斯顿·丘吉尔接替内维尔·张伯伦出任英国首相，在二战初期盟军兵败如山的…&quot;,&quot;previewText&quot;:&quot;&quot;,&quot;canComment&quot;:{&quot;status&quot;:true,&quot;reason&quot;:&quot;&quot;},&quot;type&quot;:&quot;answer&quot;,&quot;thumbnail&quot;:&quot;https://pic1.zhimg.com/50/v2-40f4e169ce66f0410fd1598c5c736726_200x112.jpg&quot;}},&quot;articles&quot;:{&quot;44501261&quot;:{&quot;updated&quot;:1539932090,&quot;author&quot;:{&quot;isFollowed&quot;:false,&quot;type&quot;:&quot;people&quot;,&quot;name&quot;:&quot;Luyao Zou&quot;,&quot;headline&quot;:&quot;光谱学|实验天体化学|超爱老婆&quot;,&quot;urlToken&quot;:&quot;luyao-zou&quot;,&quot;userType&quot;:&quot;people&quot;,&quot;url&quot;:&quot;https://api.zhihu.com/people/966700a33e499814ac6f71a1e4028743&quot;,&quot;avatarUrl&quot;:&quot;https://pic2.zhimg.com/50/v2-58f4096f6dc572dbc31f9fb85aaced02_s.jpg&quot;,&quot;isFollowing&quot;:false,&quot;isOrg&quot;:false,&quot;gender&quot;:1,&quot;badge&quot;:[{&quot;type&quot;:&quot;identity&quot;,&quot;description&quot;:&quot;埃默里（Emory）大学 化学博士&quot;},{&quot;topics&quot;:[],&quot;topicNames&quot;:[&quot;化学&quot;,&quot;物理化学&quot;],&quot;type&quot;:&quot;best_answerer&quot;,&quot;description&quot;:&quot;优秀回答者&quot;}],&quot;id&quot;:&quot;966700a33e499814ac6f71a1e4028743&quot;},&quot;excerpt&quot;:&quot;&lt;b&gt;这是一篇纯技术文，欢迎评论转发。&lt;/b&gt;这篇文章是我为 &lt;a class=\&quot;member_mention\&quot; href=\&quot;http://www.zhihu.com/people/da971e1f564d733611f6a9a51930c4aa\&quot; data-hash=\&quot;da971e1f564d733611f6a9a51930c4aa\&quot; data-hovercard=\&quot;p$b$da971e1f564d733611f6a9a51930c4aa\&quot;&gt;@中国科普博览&lt;/a&gt; 写的科普文 &lt;a href=\&quot;https://www.zhihu.com/question/34259470/answer/513244409\&quot; class=\&quot;internal\&quot;&gt;为什么阳光下的泡沫是彩色的？&lt;/a&gt; 的幕后彩蛋。&lt;a href=\&quot;https://www.zhihu.com/question/34259470/answer/513244409\&quot; data-draft-node=\&quot;block\&quot; data-draft-type=\&quot;link-card\&quot; data-image=\&quot;https://pic1.zhimg.com/v2-a29e936adfd58f96023f83aa2d87d594_180x120.jpg\&quot; data-image-width=\&quot;900\&quot; data-image-height=\&quot;562\&quot; class=\&quot;internal\&quot;&gt;为什么阳光下的泡沫是彩色的？&lt;/a&gt;我不想做空口无凭的科普。科普文中的示意图背后，都要有实实在在的准确数据支撑。所以，在这篇文章中，我就要展示一下，科普文中最后一张计算机模拟的肥皂泡表面的色彩图是如何制作出来的。肥皂泡表面的色彩来自于薄膜干涉，这样定性的解释很多地方都能查到。比如&lt;a href=\&quot;https://www.zhihu.com/question/20617550/answer/69802718\&quot; class=\&quot;internal\&quot;&gt;Drizzle：为什…&lt;/a&gt;&quot;,&quot;collection&quot;:{&quot;title&quot;:&quot;temp&quot;,&quot;url&quot;:&quot;https://api.zhihu.com/collections/31529393&quot;,&quot;answerCount&quot;:182,&quot;isFollowing&quot;:false,&quot;followerCount&quot;:0,&quot;isPublic&quot;:true,&quot;type&quot;:&quot;collection&quot;,&quot;id&quot;:31529393},&quot;id&quot;:44501261,&quot;voteupCount&quot;:320,&quot;upvotedFollowees&quot;:[],&quot;created&quot;:1539843660,&quot;url&quot;:&quot;https://api.zhihu.com/articles/44501261&quot;,&quot;commentPermission&quot;:&quot;all&quot;,&quot;title&quot;:&quot;如何定量计算肥皂泡表面的色彩？&quot;,&quot;previewType&quot;:&quot;default&quot;,&quot;content&quot;:&quot;&lt;h2&gt;&lt;b&gt;这是一篇纯技术文，欢迎评论转发。&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;这篇文章是我为 &lt;a class=\&quot;member_mention\&quot; href=\&quot;http://www.zhihu.com/people/da971e1f564d733611f6a9a51930c4aa\&quot; data-hash=\&quot;da971e1f564d733611f6a9a51930c4aa\&quot; data-hovercard=\&quot;p$b$da971e1f564d733611f6a9a51930c4aa\&quot;&gt;@中国科普博览&lt;/a&gt; 写的科普文 &lt;a href=\&quot;https://www.zhihu.com/question/34259470/answer/513244409\&quot; class=\&quot;internal\&quot;&gt;为什么阳光下的泡沫是彩色的？&lt;/a&gt; 的幕后彩蛋。&lt;/p&gt;&lt;a href=\&quot;https://www.zhihu.com/question/34259470/answer/513244409\&quot; data-draft-node=\&quot;block\&quot; data-draft-type=\&quot;link-card\&quot; data-image=\&quot;https://pic1.zhimg.com/v2-a29e936adfd58f96023f83aa2d87d594_180x120.jpg\&quot; data-image-width=\&quot;900\&quot; data-image-height=\&quot;562\&quot; class=\&quot;internal\&quot;&gt;为什么阳光下的泡沫是彩色的？&lt;/a&gt;&lt;p&gt;我不想做空口无凭的科普。科普文中的示意图背后，都要有实实在在的准确数据支撑。所以，在这篇文章中，我就要展示一下，科普文中最后一张计算机模拟的肥皂泡表面的色彩图是如何制作出来的。&lt;/p&gt;&lt;p&gt;肥皂泡表面的色彩来自于薄膜干涉，这样定性的解释很多地方都能查到。比如&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=\&quot;https://www.zhihu.com/question/20617550/answer/69802718\&quot; class=\&quot;internal\&quot;&gt;Drizzle：为什么肥皂泡由彩色变黑灰色之后就意味着要爆了？&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=\&quot;https://www.zhihu.com/question/24170019/answer/36623405\&quot; class=\&quot;internal\&quot;&gt;Antediluvian 的回答：阳光下的泡沫，真的是彩色的吗？&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=\&quot;https://zhuanlan.zhihu.com/p/39114578\&quot; class=\&quot;internal\&quot;&gt;zdr0：[科普向]---肥皂泡表面的彩色是怎么回事?&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;但是我不满足定性解释啊，我相信很多爱求知的朋友和我一样，并不满足「相消干涉」「相长干涉」这样的名词解释。我们想知道，薄膜的色彩，究竟和薄膜的厚度有什么定量关系呢？&lt;/p&gt;&lt;p&gt;首先，我们需要定量计算出，肥皂泡薄膜的反射率随薄膜厚度 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=d\&quot; alt=\&quot;d\&quot; eeimg=\&quot;1\&quot;&gt; 和入射光角度 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=%5Ctheta_i\&quot; alt=\&quot;\\theta_i\&quot; eeimg=\&quot;1\&quot;&gt; 的变化关系。即，反射率是波长 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=%5Clambda\&quot; alt=\&quot;\\lambda\&quot; eeimg=\&quot;1\&quot;&gt; ，薄膜厚度 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=d\&quot; alt=\&quot;d\&quot; eeimg=\&quot;1\&quot;&gt; 和入射光角度 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=%5Ctheta_i\&quot; alt=\&quot;\\theta_i\&quot; eeimg=\&quot;1\&quot;&gt; 三个变量的函数：&lt;/p&gt;&lt;p&gt;&lt;img src=\&quot;http://www.zhihu.com/equation?tex=R+%5Cequiv+R%28%5Clambda%2C+d%2C+%5Ctheta_i%29+%5C%5C\&quot; alt=\&quot;R \\equiv R(\\lambda, d, \\theta_i) \\\\\&quot; eeimg=\&quot;1\&quot;&gt;&lt;/p&gt;&lt;p&gt;然后，我需要把这个反射率光谱转换成色彩。从光谱到色彩的转换，我在&lt;a href=\&quot;https://www.zhihu.com/question/31626141/answer/53622190\&quot; class=\&quot;internal\&quot;&gt;Luyao Zou：闪电是什么颜色？&lt;/a&gt;中有过简短的介绍。人眼有三种视锥细胞细胞，分别感受红、绿、蓝光。我需要把这三种视锥细胞对光的响应函数，与光谱的函数相乘并积分，得到红绿蓝三个通道的总信号强度。这在 CIE XYZ 色彩空间中表示最方便，即&lt;/p&gt;&lt;p&gt;&lt;img src=\&quot;http://www.zhihu.com/equation?tex=X%28d%2C+%5Ctheta_i%29+%3D+%5Cint+R%28%5Clambda%2C+d%2C+%5Ctheta_i%29%5Cbar%7Bx%7D%28%5Clambda%29%5Cmathrm%7Bd%7D%5Clambda+%5C%5C+Y%28d%2C+%5Ctheta_i%29+%3D+%5Cint+R%28%5Clambda%2C+d%2C+%5Ctheta_i%29%5Cbar%7By%7D%28%5Clambda%29%5Cmathrm%7Bd%7D%5Clambda+%5C%5C+Z%28d%2C+%5Ctheta_i%29+%3D+%5Cint+R%28%5Clambda%2C+d%2C+%5Ctheta_i%29%5Cbar%7Bz%7D%28%5Clambda%29%5Cmathrm%7Bd%7D%5Clambda\&quot; alt=\&quot;X(d, \\theta_i) = \\int R(\\lambda, d, \\theta_i)\\bar{x}(\\lambda)\\mathrm{d}\\lambda \\\\ Y(d, \\theta_i) = \\int R(\\lambda, d, \\theta_i)\\bar{y}(\\lambda)\\mathrm{d}\\lambda \\\\ Z(d, \\theta_i) = \\int R(\\lambda, d, \\theta_i)\\bar{z}(\\lambda)\\mathrm{d}\\lambda\&quot; eeimg=\&quot;1\&quot;&gt;&lt;/p&gt;&lt;p&gt;然后我只要把 XYZ 空间中的色彩数值转换成 RGB，对每一个 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=%28d%2C+%5Ctheta_i%29\&quot; alt=\&quot;(d, \\theta_i)\&quot; eeimg=\&quot;1\&quot;&gt; ，对应一个 RGB 色彩，输出数据文件，就能用来画图啦。&lt;/p&gt;&lt;h2&gt;1. 搞定薄膜的反射率&lt;/h2&gt;&lt;p&gt;反射率的计算并不是一个简单的事情。我们得考虑在薄膜中来回反射的光的干涉，还得考虑 S 和 T 两个偏振方向的光。好在，一切都有成熟的方法：转移矩阵法。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic3.zhimg.com/v2-a640029d7cd63c243b82c9d3e569cbc6_b.jpg\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;1152\&quot; data-rawheight=\&quot;720\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;1152\&quot; data-original=\&quot;https://pic3.zhimg.com/v2-a640029d7cd63c243b82c9d3e569cbc6_r.jpg\&quot;&gt;&lt;figcaption&gt;薄膜干涉光路示意图及记号&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;首先引入一些记号。对第 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=N\&quot; alt=\&quot;N\&quot; eeimg=\&quot;1\&quot;&gt; 个界面，我们把它上侧的光的电场强度记为 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=E_%7BN-1%7D%5E%2B\&quot; alt=\&quot;E_{N-1}^+\&quot; eeimg=\&quot;1\&quot;&gt; 和 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=E_%7BN-1%7D%5E-\&quot; alt=\&quot;E_{N-1}^-\&quot; eeimg=\&quot;1\&quot;&gt; ，它下侧的光的电场强度记为 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=E_%7BN%7D%5E%7B%27%2B%7D\&quot; alt=\&quot;E_{N}^{&#x27;+}\&quot; eeimg=\&quot;1\&quot;&gt; 和 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=E_%7BN%7D%5E%7B%27%2B%7D\&quot; alt=\&quot;E_{N}^{&#x27;+}\&quot; eeimg=\&quot;1\&quot;&gt; 。+/- 号用来表示两个相对的方向。然后我们就能写出两个转移矩阵。在界面上， &lt;img src=\&quot;http://www.zhihu.com/equation?tex=E_%7BN-1%7D\&quot; alt=\&quot;E_{N-1}\&quot; eeimg=\&quot;1\&quot;&gt; 和 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=E_N%5E%7B%27%7D\&quot; alt=\&quot;E_N^{&#x27;}\&quot; eeimg=\&quot;1\&quot;&gt; 的关系为&lt;/p&gt;&lt;p&gt;&lt;img src=\&quot;http://www.zhihu.com/equation?tex=%5Cbegin%7Bpmatrix%7D+++++E_%7BN-1%7D%5E%2B+%5C%5C+E_%7BN-1%7D%5E-+%5Cend%7Bpmatrix%7D+%3D+%5Cfrac%7B1%7D%7Bt_%7BN-1%2CN%7D%7D+%5Cbegin%7Bpmatrix%7D+++++1+%26+r_%7BN-1%2C+N%7D+%5C%5C+++++r_%7BN-1%2C+N%7D+%26+1+%5Cend%7Bpmatrix%7D+%5Cbegin%7Bpmatrix%7D+++++E_%7BN%7D%5E%7B%27%2B%7D+%5C%5C+E_%7BN%7D%5E%7B%27-%7D+%5Cend%7Bpmatrix%7D+%5C%5C\&quot; alt=\&quot;\\begin{pmatrix}     E_{N-1}^+ \\\\ E_{N-1}^- \\end{pmatrix} = \\frac{1}{t_{N-1,N}} \\begin{pmatrix}     1 &amp;amp; r_{N-1, N} \\\\     r_{N-1, N} &amp;amp; 1 \\end{pmatrix} \\begin{pmatrix}     E_{N}^{&#x27;+} \\\\ E_{N}^{&#x27;-} \\end{pmatrix} \\\\\&quot; eeimg=\&quot;1\&quot;&gt;&lt;/p&gt;&lt;p&gt;而在介质两侧的界面 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=N\&quot; alt=\&quot;N\&quot; eeimg=\&quot;1\&quot;&gt; 和 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=N%2B1\&quot; alt=\&quot;N+1\&quot; eeimg=\&quot;1\&quot;&gt; 之间， &lt;img src=\&quot;http://www.zhihu.com/equation?tex=E_N%5E%7B%27%7D\&quot; alt=\&quot;E_N^{&#x27;}\&quot; eeimg=\&quot;1\&quot;&gt; 和 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=E_N\&quot; alt=\&quot;E_N\&quot; eeimg=\&quot;1\&quot;&gt; 之间的关系为&lt;/p&gt;&lt;p&gt;&lt;img src=\&quot;http://www.zhihu.com/equation?tex=%5Cbegin%7Bpmatrix%7D+++++E_%7BN%7D%5E%7B%27%2B%7D+%5C%5C+E_%7BN%7D%5E%7B%27-%7D+%5Cend%7Bpmatrix%7D+%3D+%5Cbegin%7Bpmatrix%7D+++++e%5E%7Bi%5Cdelta_N%7D+%26+0+%5C%5C+++++0+%26+e%5E%7B-i%5Cdelta_N%7D+%5Cend%7Bpmatrix%7D+%5Cbegin%7Bpmatrix%7D+++++E_%7BN%7D%5E%7B%2B%7D+%5C%5C+E_%7BN%7D%5E%7B-%7D+%5Cend%7Bpmatrix%7D%5C%5C\&quot; alt=\&quot;\\begin{pmatrix}     E_{N}^{&#x27;+} \\\\ E_{N}^{&#x27;-} \\end{pmatrix} = \\begin{pmatrix}     e^{i\\delta_N} &amp;amp; 0 \\\\     0 &amp;amp; e^{-i\\delta_N} \\end{pmatrix} \\begin{pmatrix}     E_{N}^{+} \\\\ E_{N}^{-} \\end{pmatrix}\\\\\&quot; eeimg=\&quot;1\&quot;&gt;&lt;/p&gt;&lt;p&gt;其中 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=%5Cdelta_N\&quot; alt=\&quot;\\delta_N\&quot; eeimg=\&quot;1\&quot;&gt; 就是光在介质中的光程。对于一层薄膜来说，这个光程很简单，就是 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=%5Cdelta+%3D+%5Ccfrac%7B2%5Cpi+n_2d%7D%7B%5Clambda%5Ccos%5Ctheta_t%7D\&quot; alt=\&quot;\\delta = \\cfrac{2\\pi n_2d}{\\lambda\\cos\\theta_t}\&quot; eeimg=\&quot;1\&quot;&gt; ，&lt;/p&gt;&lt;p&gt;其中 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=%5Ctheta_t\&quot; alt=\&quot;\\theta_t\&quot; eeimg=\&quot;1\&quot;&gt; 是折射角， &lt;img src=\&quot;http://www.zhihu.com/equation?tex=n_2\&quot; alt=\&quot;n_2\&quot; eeimg=\&quot;1\&quot;&gt; 是介质的折射率。对肥皂泡来说，介质就是水。&lt;/p&gt;&lt;p&gt;好了，有了这个递推关系，扔进程序写个循环，就可以计算任意层薄膜叠加后反射率和透射率啦。对单层水膜，我们有三个介质：0, 1, 2 和两个界面 1, 2。入射光是 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=E_0%5E%2B\&quot; alt=\&quot;E_0^+\&quot; eeimg=\&quot;1\&quot;&gt; ，反射光是 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=E_0%5E-\&quot; alt=\&quot;E_0^-\&quot; eeimg=\&quot;1\&quot;&gt; 。&lt;/p&gt;&lt;p&gt;&lt;img src=\&quot;http://www.zhihu.com/equation?tex=%5Cbegin%7Balign%7D+%5Cbegin%7Bpmatrix%7D+++++E_0%5E%2B+%5C%5C+E_0%5E-+%5Cend%7Bpmatrix%7D++%26+%3D+%5Cfrac%7B1%7D%7Bt_%7B0%2C1%7Dt_%7B1%2C2%7D%7D+%5Cbegin%7Bpmatrix%7D+++++1+%26+r_%7B0%2C+1%7D+%5C%5C+++++r_%7B0%2C+1%7D+%26+1+%5Cend%7Bpmatrix%7D+%5Cbegin%7Bpmatrix%7D+++++e%5E%7Bi%5Cdelta%7D+%26+0+%5C%5C+++++0+%26+e%5E%7B-i%5Cdelta%7D+%5Cend%7Bpmatrix%7D+%5Cbegin%7Bpmatrix%7D+++++1+%26+r_%7B1%2C+2%7D+%5C%5C+++++r_%7B1%2C+2%7D+%26+1+%5Cend%7Bpmatrix%7D+%5Cbegin%7Bpmatrix%7D+++++E_%7B2%7D%5E%7B%27%2B%7D+%5C%5C+E_%7B2%7D%5E%7B%27-%7D+%5Cend%7Bpmatrix%7D+%5C%5C++%26+%3D+%5Cfrac%7B1%7D%7Bt_%7B0%2C1%7Dt_%7B1%2C2%7D%7D++%5Cbegin%7Bpmatrix%7D++++++e%5E%7Bi%5Cdelta%7D+%2B+r_%7B0%2C1%7Dr_%7B1%2C2%7De%5E%7B-i%5Cdelta%7D+%26++++++r_%7B1%2C2%7De%5E%7Bi%5Cdelta%7D+%2B+r_%7B0%2C1%7De%5E%7B-i%5Cdelta%7D+%5C%5C++++++r_%7B0%2C1%7De%5E%7Bi%5Cdelta%7D+%2B+r_%7B1%2C2%7De%5E%7B-i%5Cdelta%7D+%26++++++r_%7B0%2C1%7Dr_%7B1%2C2%7De%5E%7Bi%5Cdelta%7D+%2B+e%5E%7B-i%5Cdelta%7D++%5Cend%7Bpmatrix%7D++%5Cbegin%7Bpmatrix%7D++++++E_%7B2%7D%5E%7B%27%2B%7D+%5C%5C+E_%7B2%7D%5E%7B%27-%7D++%5Cend%7Bpmatrix%7D+%5C%5C+%26+%3D++%5Cbegin%7Bpmatrix%7D++++++T_%7B11%7D+%26+T_%7B12%7D+%5C%5C++++++T_%7B21%7D+%26+T_%7B22%7D++%5Cend%7Bpmatrix%7D++%5Cbegin%7Bpmatrix%7D++++++E_%7B2%7D%5E%7B%27%2B%7D+%5C%5C+E_%7B2%7D%5E%7B%27-%7D++%5Cend%7Bpmatrix%7D+%5Cend%7Balign%7D+%5C%5C\&quot; alt=\&quot;\\begin{align} \\begin{pmatrix}     E_0^+ \\\\ E_0^- \\end{pmatrix}  &amp;amp; = \\frac{1}{t_{0,1}t_{1,2}} \\begin{pmatrix}     1 &amp;amp; r_{0, 1} \\\\     r_{0, 1} &amp;amp; 1 \\end{pmatrix} \\begin{pmatrix}     e^{i\\delta} &amp;amp; 0 \\\\     0 &amp;amp; e^{-i\\delta} \\end{pmatrix} \\begin{pmatrix}     1 &amp;amp; r_{1, 2} \\\\     r_{1, 2} &amp;amp; 1 \\end{pmatrix} \\begin{pmatrix}     E_{2}^{&#x27;+} \\\\ E_{2}^{&#x27;-} \\end{pmatrix} \\\\  &amp;amp; = \\frac{1}{t_{0,1}t_{1,2}}  \\begin{pmatrix}      e^{i\\delta} + r_{0,1}r_{1,2}e^{-i\\delta} &amp;amp;      r_{1,2}e^{i\\delta} + r_{0,1}e^{-i\\delta} \\\\      r_{0,1}e^{i\\delta} + r_{1,2}e^{-i\\delta} &amp;amp;      r_{0,1}r_{1,2}e^{i\\delta} + e^{-i\\delta}  \\end{pmatrix}  \\begin{pmatrix}      E_{2}^{&#x27;+} \\\\ E_{2}^{&#x27;-}  \\end{pmatrix} \\\\ &amp;amp; =  \\begin{pmatrix}      T_{11} &amp;amp; T_{12} \\\\      T_{21} &amp;amp; T_{22}  \\end{pmatrix}  \\begin{pmatrix}      E_{2}^{&#x27;+} \\\\ E_{2}^{&#x27;-}  \\end{pmatrix} \\end{align} \\\\\&quot; eeimg=\&quot;1\&quot;&gt;&lt;/p&gt;&lt;p&gt;这个形式还是挺对称的。&lt;/p&gt;&lt;p&gt;&lt;b&gt;现在要引入一个假设：没有背景光&lt;/b&gt;，即 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=E_2%5E%7B%27-%7D%3D0\&quot; alt=\&quot;E_2^{&#x27;-}=0\&quot; eeimg=\&quot;1\&quot;&gt; 。除非你把肥皂泡对着光源，这个假设还是比较合理的。那么，反射系数&lt;/p&gt;&lt;p&gt;&lt;img src=\&quot;http://www.zhihu.com/equation?tex=r_0+%3D+%5Cfrac%7BE_0%5E-%7D%7BE_0%5E%2B%7D+%3D+%5Cfrac%7BT_%7B21%7D%7D%7BT_%7B11%7D%7D+++%3D+%5Cfrac%7Br_%7B0%2C1%7De%5E%7Bi%5Cdelta%7D+%2B+r_%7B1%2C2%7De%5E%7B-i%5Cdelta%7D%7D%7Be%5E%7Bi%5Cdelta%7D+%2B+r_%7B0%2C1%7Dr_%7B1%2C2%7De%5E%7B-i%5Cdelta%7D%7D+%5C%5C\&quot; alt=\&quot;r_0 = \\frac{E_0^-}{E_0^+} = \\frac{T_{21}}{T_{11}}   = \\frac{r_{0,1}e^{i\\delta} + r_{1,2}e^{-i\\delta}}{e^{i\\delta} + r_{0,1}r_{1,2}e^{-i\\delta}} \\\\\&quot; eeimg=\&quot;1\&quot;&gt;&lt;/p&gt;&lt;p&gt;现在我们只需要知道两个界面上的反射系数 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=r_%7B0%2C1%7D\&quot; alt=\&quot;r_{0,1}\&quot; eeimg=\&quot;1\&quot;&gt; 和 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=r_%7B1%2C2%7D\&quot; alt=\&quot;r_{1,2}\&quot; eeimg=\&quot;1\&quot;&gt; ，就能求出 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=r_0\&quot; alt=\&quot;r_0\&quot; eeimg=\&quot;1\&quot;&gt;。不过，对于 S 偏振和 T 偏振光，它们的反射系数不一样，有：&lt;/p&gt;&lt;p&gt;&lt;img src=\&quot;http://www.zhihu.com/equation?tex=r_%7B0%2C1%7D%5ES+%3D+%5Cfrac%7Bn_1%5Ccos%5Ctheta_i-n_2%5Ccos%5Ctheta_t%7D%7Bn_1%5Ccos%5Ctheta_i%2Bn_2%5Ccos%5Ctheta_t%7D+%5C%5C+r_%7B0%2C1%7D%5EP+%3D+%5Cfrac%7Bn_2%5Ccos%5Ctheta_i-n_1%5Ccos%5Ctheta_t%7D%7Bn_2%5Ccos%5Ctheta_i%2Bn_1%5Ccos%5Ctheta_t%7D%5C%5C+r_%7B1%2C2%7D%5ES+%3D+-r_%7B0%2C1%7D%5ES%2C+%5Cquad+r_%7B1%2C2%7D%5EP+%3D+-r_%7B0%2C1%7D%5EP+%5C%5C\&quot; alt=\&quot;r_{0,1}^S = \\frac{n_1\\cos\\theta_i-n_2\\cos\\theta_t}{n_1\\cos\\theta_i+n_2\\cos\\theta_t} \\\\ r_{0,1}^P = \\frac{n_2\\cos\\theta_i-n_1\\cos\\theta_t}{n_2\\cos\\theta_i+n_1\\cos\\theta_t}\\\\ r_{1,2}^S = -r_{0,1}^S, \\quad r_{1,2}^P = -r_{0,1}^P \\\\\&quot; eeimg=\&quot;1\&quot;&gt;&lt;/p&gt;&lt;p&gt;其中 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=n_1\&quot; alt=\&quot;n_1\&quot; eeimg=\&quot;1\&quot;&gt; 和 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=n_2\&quot; alt=\&quot;n_2\&quot; eeimg=\&quot;1\&quot;&gt; 分别为空气和水的折射率。既然 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=r_%7B0%2C1%7D\&quot; alt=\&quot;r_{0,1}\&quot; eeimg=\&quot;1\&quot;&gt; 和 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=r_%7B1%2C2%7D\&quot; alt=\&quot;r_{1,2}\&quot; eeimg=\&quot;1\&quot;&gt; 互为相反数，记 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=r_%7B1%2C2%7D%3Dr\&quot; alt=\&quot;r_{1,2}=r\&quot; eeimg=\&quot;1\&quot;&gt; （再加上标 S 或 P），则 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=r_0\&quot; alt=\&quot;r_0\&quot; eeimg=\&quot;1\&quot;&gt; 就又可以化简一些，变成&lt;/p&gt;&lt;p&gt;&lt;img src=\&quot;http://www.zhihu.com/equation?tex=r_0+%3D+%5Cfrac%7Bre%5E%7Bi%5Cdelta%7D-re%5E%7B-i%5Cdelta%7D%7D%7Be%5E%7Bi%5Cdelta%7D-r%5E2e%5E%7B-i%5Cdelta%7D%7D%2C%5Cquad+%5Cdelta+%3D+%5Cfrac%7B2%5Cpi+n_2+d%7D%7B%5Clambda%5Ccos%5Ctheta_t%7D+%5C%5C\&quot; alt=\&quot;r_0 = \\frac{re^{i\\delta}-re^{-i\\delta}}{e^{i\\delta}-r^2e^{-i\\delta}},\\quad \\delta = \\frac{2\\pi n_2 d}{\\lambda\\cos\\theta_t} \\\\\&quot; eeimg=\&quot;1\&quot;&gt;&lt;/p&gt;&lt;p&gt;再假设，入射光没有偏振，则总的反射率 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=R_0\&quot; alt=\&quot;R_0\&quot; eeimg=\&quot;1\&quot;&gt; 就是 S 偏振光和 P 偏振光各自反射系数的模平方的平均值：&lt;/p&gt;&lt;p&gt;&lt;img src=\&quot;http://www.zhihu.com/equation?tex=R_0+%3D+%5Cfrac%7B1%7D%7B2%7D%5Cbig%28%7Cr_0%5ES%7C%5E2%2B%7Cr_0%5EP%7C%5E2%5Cbig%29%5C%5C\&quot; alt=\&quot;R_0 = \\frac{1}{2}\\big(|r_0^S|^2+|r_0^P|^2\\big)\\\\\&quot; eeimg=\&quot;1\&quot;&gt;&lt;/p&gt;&lt;p&gt;而且根据斯涅耳公式 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=n_1%5Csin%5Ctheta_i+%3D+n_2%5Csin%5Ctheta_t\&quot; alt=\&quot;n_1\\sin\\theta_i = n_2\\sin\\theta_t\&quot; eeimg=\&quot;1\&quot;&gt;，还有 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=%5Ccos%5Ctheta_t+%3D+%5Csqrt%7B1+-+n_1%5E2%5Csin%5E2%5Ctheta_i%2Fn_2%5E2%7D\&quot; alt=\&quot;\\cos\\theta_t = \\sqrt{1 - n_1^2\\sin^2\\theta_i/n_2^2}\&quot; eeimg=\&quot;1\&quot;&gt; 。 好了，再代入 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=r%5ES\&quot; alt=\&quot;r^S\&quot; eeimg=\&quot;1\&quot;&gt; 和 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=r%5EP\&quot; alt=\&quot;r^P\&quot; eeimg=\&quot;1\&quot;&gt; 的表达式就行了。 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=R_0\&quot; alt=\&quot;R_0\&quot; eeimg=\&quot;1\&quot;&gt; 就应该是 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=%5Ctheta_i\&quot; alt=\&quot;\\theta_i\&quot; eeimg=\&quot;1\&quot;&gt; 和 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=d\&quot; alt=\&quot;d\&quot; eeimg=\&quot;1\&quot;&gt; 的函数啦。代数替换冗长枯燥，就不继续下去了，写程序让电脑去做替换吧。&lt;/p&gt;&lt;p&gt;下面，我们就可以代入具体数据了。我从 &lt;a href=\&quot;http://link.zhihu.com/?target=https%3A//refractiveindex.info/\&quot; class=\&quot; wrap external\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noreferrer\&quot;&gt;Refractive index database (M. N. Polyanskiy)&lt;/a&gt; 上找到了水的折射率数据。不过，这个数据是每 25 nm 一个数据点。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic2.zhimg.com/v2-ba354e201617d35e28545bae18011352_b.jpg\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;1200\&quot; data-rawheight=\&quot;800\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;1200\&quot; data-original=\&quot;https://pic2.zhimg.com/v2-ba354e201617d35e28545bae18011352_r.jpg\&quot;&gt;&lt;figcaption&gt;水在 390-830 纳米之间的折射率（M. N. Polyanskiy, &amp;amp;amp;amp;amp;amp;amp;amp;quot;Refractive index database,&amp;amp;amp;amp;amp;amp;amp;amp;quot; https://refractiveindex.info. Accessed on 2018-09-14.）&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;后面我要计算的光谱是 1 nm 一个数据点。所以，我还得做一个函数的内推。好在水在可见光范围内的折射率几乎是线性的，用 scipy 包中简单的一位函数内推就能搞定了。&lt;/p&gt;&lt;div class=\&quot;highlight\&quot;&gt;&lt;pre&gt;&lt;code class=\&quot;language-python3\&quot;&gt;&lt;span class=\&quot;k\&quot;&gt;def&lt;/span&gt; &lt;span class=\&quot;nf\&quot;&gt;n_interpolation&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;n&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;,&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;x&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;):&lt;/span&gt;\n    &lt;span class=\&quot;sd\&quot;&gt;&#x27;&#x27;&#x27; interpolate refractive index of water&lt;/span&gt;\n&lt;span class=\&quot;sd\&quot;&gt;    Arg: n - original refractive index data, np.array N1*2&lt;/span&gt;\n&lt;span class=\&quot;sd\&quot;&gt;         x - spectrum wavelength range, np.array N2*1&lt;/span&gt;\n&lt;span class=\&quot;sd\&quot;&gt;    Return: n_intp - interplated refractive data, np.array N2*1&lt;/span&gt;\n&lt;span class=\&quot;sd\&quot;&gt;    &#x27;&#x27;&#x27;&lt;/span&gt;\n\n    &lt;span class=\&quot;n\&quot;&gt;_f&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;interpolate&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;.&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;interp1d&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;n&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;[:,&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;0&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;],&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;n&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;[:,&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;1&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;])&lt;/span&gt;\n    &lt;span class=\&quot;n\&quot;&gt;n_intp&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;_f&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;x&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n\n    &lt;span class=\&quot;k\&quot;&gt;return&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;n_intp&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;同时，我们还假定空气折射率就是 1，并且忽略水折射率的虚部（实际上虚部的量级为 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=10%5E%7B-8%7D\&quot; alt=\&quot;10^{-8}\&quot; eeimg=\&quot;1\&quot;&gt; ）。把这些数据代入程序后，来看一下计算出来的反射率光谱。&lt;/p&gt;&lt;p&gt;因为可见光的波长是 400-700 纳米，肥皂泡薄膜的厚度也应该在差不多的量级，才能显示出薄膜干涉的效应。所以，我们取 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=%28d%2C%5Ctheta_i%29%3D%28250%2C+0%5E%5Ccirc%29%2C+%28500%2C+0%5E%5Ccirc%29%2C+%281000%2C+0%5E%5Ccirc%29\&quot; alt=\&quot;(d,\\theta_i)=(250, 0^\\circ), (500, 0^\\circ), (1000, 0^\\circ)\&quot; eeimg=\&quot;1\&quot;&gt; 这 3 个点作光谱图。&lt;img src=\&quot;http://www.zhihu.com/equation?tex=d\&quot; alt=\&quot;d\&quot; eeimg=\&quot;1\&quot;&gt; 的单位是纳米。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic4.zhimg.com/v2-20b6f85ecb8c55f0177ed7102fdf1442_b.jpg\&quot; data-caption=\&quot;\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;1200\&quot; data-rawheight=\&quot;800\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;1200\&quot; data-original=\&quot;https://pic4.zhimg.com/v2-20b6f85ecb8c55f0177ed7102fdf1442_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;p&gt;首先可以看到，这些反射率光谱都有周期性，这是因为随着入射波长与薄膜厚度比 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=d%2F%5Clambda\&quot; alt=\&quot;d/\\lambda\&quot; eeimg=\&quot;1\&quot;&gt; 的变化，不断在相消干涉和相长干涉两个极端之间变化。而且因为 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=%5Clambda\&quot; alt=\&quot;\\lambda\&quot; eeimg=\&quot;1\&quot;&gt; 是在分母上，所以越往波长长的方向，这种变化变得越缓慢。其次，随着薄膜厚度的增大，变化的周期变得越来越短。这是因为对于比较长的薄膜，光在薄膜里行进的总光程比较长，因此波长只要变化较小的距离，相位差就会有较大的变化，也就更快的会在相消干涉和相长干涉之间振荡。我们再来检查一下 0 点，可以看到，这三个波长的反射率光谱，都在大约 660 纳米处有 0 点。我们来计算一下，660 纳米的光在三个厚度的薄膜中的总光程都是多少。水的折射率大约为 1.33， 因此在水中，660 纳米的光波长降为 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=660%2F1.33%5Capprox500\&quot; alt=\&quot;660/1.33\\approx500\&quot; eeimg=\&quot;1\&quot;&gt; 纳米。不错，无论是 250 纳米、500 纳米还是 1000 纳米的薄膜，乘以往返的系数 2 之后，都是光波长的整数倍，因此在薄膜中光的相位改变都是  &lt;img src=\&quot;http://www.zhihu.com/equation?tex=2%5Cpi\&quot; alt=\&quot;2\\pi\&quot; eeimg=\&quot;1\&quot;&gt;  的整数倍。而从空气到水的界面上（小折射率进入大折射率），反射光还会额外改变 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=%5Cpi\&quot; alt=\&quot;\\pi\&quot; eeimg=\&quot;1\&quot;&gt; 的相位，这就确实是相消干涉了。&lt;/p&gt;&lt;p&gt;这段物理上的定性分析告诉我们，上面这一大段数学计算得出的结果符合物理直觉，没搞错。&lt;/p&gt;&lt;p&gt;&lt;b&gt;尤为重要的是，上述所用的「转移矩阵」法，是光学计算中最常用的工具。&lt;/b&gt;它的好处显而易见：不需要再去纠结界面上存在的多重反射、折射，也无需就某条具体的光路上的光进行干涉强度的计算。所有的东西都被包含在转移矩阵里，而这仅仅是因为反射与折射的线性性。不仅一层肥皂泡薄膜可以使用转移矩阵计算，拥有许多层镀膜的高反射率电介质镜的光学性能模拟，也可以用同样的方法计算，只需要堆上几十个与镀膜的性质相对应的矩阵，并做矩阵乘法。&lt;/p&gt;&lt;h2&gt;2. 从光谱到色彩&lt;/h2&gt;&lt;p&gt;色彩转换一直是个大坑。光从色彩空间的数量就可见一斑了。毕竟这里的计算本来就是从一个纯理论的角度出发的，做了很多假设：没有背景光，入射光为纯白光等等，我也就不去做光源和白平衡的校正了。&lt;/p&gt;&lt;p&gt;我将选择国际照明委员会（CIE）的标准色彩空间 CIE RGB。&lt;/p&gt;&lt;p&gt;首先，我需要一个基于人眼细胞对光的响应得出的色彩匹配函数（CMF），来把光谱表示的能量转换到 CIE 的 XYZ 坐标上。我从 &lt;a href=\&quot;http://link.zhihu.com/?target=http%3A//www.cvrl.org/ciexyzpr.htm\&quot; class=\&quot; wrap external\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noreferrer\&quot;&gt;CIE functions&lt;/a&gt; 上选择了最新的 CMF 函数。这个函数基于 Sharpe 等人 2005 年的最新实验数据（L. T. Sharpe et al., &lt;i&gt;Journal of Vision &lt;/i&gt;(2005) 5, 948-968），也是 CIE 认可的数据。&lt;/p&gt;&lt;p&gt;这组 CMF 画出来是这样的：&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic2.zhimg.com/v2-68db6766ac0c655889fdf221926d5e3b_b.jpg\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;1286\&quot; data-rawheight=\&quot;859\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;1286\&quot; data-original=\&quot;https://pic2.zhimg.com/v2-68db6766ac0c655889fdf221926d5e3b_r.jpg\&quot;&gt;&lt;figcaption&gt;色彩匹配函数&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;有了它，就可以计算 XYZ 的数值。直接把 CMF 三个通道分别与光谱矢量相乘，然后求和就行了。然后要把 XYZ（大写） 归一化成 xyz（小写）：&lt;/p&gt;&lt;p&gt;&lt;img src=\&quot;http://www.zhihu.com/equation?tex=v+%3D+V+%2F+%5Csum+V%2C+%5Ctext%7B+for+%7DV+%5Cin+%5C%7BX%2C+Y%2C+Z%5C%7D+%5C%5C\&quot; alt=\&quot;v = V / \\sum V, \\text{ for }V \\in \\{X, Y, Z\\} \\\\\&quot; eeimg=\&quot;1\&quot;&gt;&lt;/p&gt;&lt;p&gt;然后就是把每个 xyz 坐标，先转换为 CIE rgb（线性）的坐标，并对 rgb 做 gamma 校正 。这组变换通过变换矩阵实现：&lt;/p&gt;&lt;p&gt;&lt;img src=\&quot;http://www.zhihu.com/equation?tex=%5Cbegin%7Bpmatrix%7D+r+%5C%5C+g+%5C%5C+b+%5Cend%7Bpmatrix%7D+%3D+%5Cbegin%7Bpmatrix%7D+2.3706743++%26+-0.9000405+%26+-0.4706338+%5C%5C+-0.5138850+%26++1.4253036+%26+0.0885814+%5C%5C+0.0052982++%26+-0.0146949+%26+1.0093968+%5C%5C+%5Cend%7Bpmatrix%7D+%5Cbegin%7Bpmatrix%7D+x+%5C%5C+y+%5C%5C+z+%5Cend%7Bpmatrix%7D+%5C%5C+V+%3D+v%5E%7B1%2F2.2%7D%2C%5Ctext%7B+for+%7D+v%5Cin%5C%7Br%2Cg%2Cb%5C%7D%2C+V%5Cin%5C%7BR%2CG%2CB%5C%7D\&quot; alt=\&quot;\\begin{pmatrix} r \\\\ g \\\\ b \\end{pmatrix} = \\begin{pmatrix} 2.3706743  &amp;amp; -0.9000405 &amp;amp; -0.4706338 \\\\ -0.5138850 &amp;amp;  1.4253036 &amp;amp; 0.0885814 \\\\ 0.0052982  &amp;amp; -0.0146949 &amp;amp; 1.0093968 \\\\ \\end{pmatrix} \\begin{pmatrix} x \\\\ y \\\\ z \\end{pmatrix} \\\\ V = v^{1/2.2},\\text{ for } v\\in\\{r,g,b\\}, V\\in\\{R,G,B\\}\&quot; eeimg=\&quot;1\&quot;&gt;&lt;/p&gt;&lt;p&gt;具体的解释可以见 &lt;a href=\&quot;http://link.zhihu.com/?target=http%3A//brucelindbloom.com/index.html%3FEqn_XYZ_to_RGB.html\&quot; class=\&quot; external\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noreferrer\&quot;&gt;&lt;span class=\&quot;invisible\&quot;&gt;http://&lt;/span&gt;&lt;span class=\&quot;visible\&quot;&gt;brucelindbloom.com/inde&lt;/span&gt;&lt;span class=\&quot;invisible\&quot;&gt;x.html?Eqn_XYZ_to_RGB.html&lt;/span&gt;&lt;span class=\&quot;ellipsis\&quot;&gt;&lt;/span&gt;&lt;/a&gt; 和 &lt;a href=\&quot;http://link.zhihu.com/?target=http%3A//www.brucelindbloom.com/index.html%3FEqn_RGB_XYZ_Matrix.html\&quot; class=\&quot; external\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noreferrer\&quot;&gt;&lt;span class=\&quot;invisible\&quot;&gt;http://www.&lt;/span&gt;&lt;span class=\&quot;visible\&quot;&gt;brucelindbloom.com/inde&lt;/span&gt;&lt;span class=\&quot;invisible\&quot;&gt;x.html?Eqn_RGB_XYZ_Matrix.html&lt;/span&gt;&lt;span class=\&quot;ellipsis\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;这里的 RGB 取值应当为 (0,1)，但实际上，还会有负值出来——这很正常，因为 RGB 系统并不能够表达所有的色彩。CIE RGB 的色域只有&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic1.zhimg.com/v2-2d12dd108c104ce12540a3a0295eb959_b.jpg\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;586\&quot; data-rawheight=\&quot;633\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;586\&quot; data-original=\&quot;https://pic1.zhimg.com/v2-2d12dd108c104ce12540a3a0295eb959_r.jpg\&quot;&gt;&lt;figcaption&gt;CIE RGB 的色域&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;所以，如果计算出来的 RGB 数值小于 0，我就把它砍成 0。&lt;/p&gt;&lt;p&gt;最后，把这组 RGB 乘以 255，再按对应的 &lt;img src=\&quot;http://www.zhihu.com/equation?tex=%28d%2C+%5Ctheta_i%29\&quot; alt=\&quot;(d, \\theta_i)\&quot; eeimg=\&quot;1\&quot;&gt; 组成数据表输出，就可以用来作图了。&lt;/p&gt;&lt;h2&gt;3. 扩展阅读&lt;/h2&gt;&lt;p&gt;更多转移矩阵法的介绍可参见文献：&lt;/p&gt;&lt;p&gt;Charalambos C. Katsidis and Dimitrios I. Siapkas, Applied Optics, 41(19), pp. 3978-3987 (2002). DOI: 10.1364/AO.41.003978.&lt;/p&gt;&lt;h2&gt;4. 代码&lt;/h2&gt;&lt;p&gt;下面就是模拟上述计算过程的完整代码。两个外部数据就是前面所引用的网站中拿到的数据。&lt;/p&gt;&lt;div class=\&quot;highlight\&quot;&gt;&lt;pre&gt;&lt;code class=\&quot;language-text\&quot;&gt;#!encoding = utf-8\n\n&#x27;&#x27;&#x27; Calculate spectrum to color plot based on 2-deg XYZ-CMF data\n&amp;amp; reflectance of soap bubble single layer.\n&#x27;&#x27;&#x27;\n\nimport numpy as np\nfrom math import pi\nfrom scipy import interpolate\n\ndef n_interpolation(n, x):\n    &#x27;&#x27;&#x27; interpolate refractive index of water\n    Arg: n - original refractive index data, np.array N1*2\n         x - spectrum wavelength range, np.array N2*1\n    Return: n_intp - interplated refractive data, np.array N2*1\n    &#x27;&#x27;&#x27;\n\n    _f = interpolate.interp1d(n[:,0], n[:,1])\n    n_intp = _f(x)\n\n    return n_intp\n\n\ndef spec2xyz(spec, cmf):\n    &#x27;&#x27;&#x27; integrate spectrum with cmf function to get CIE xyz values\n    Arg: spec - np.array 1*N\n         cmf - np.array N*3\n    Return: xyz - np.array 3*1\n    &#x27;&#x27;&#x27;\n\n    # integrate spectrum &amp;amp; scale it\n    XYZ_array = np.tile(spec, (3, 1)).T * cmf\n    XYZ = np.sum(XYZ_array, axis=0)\n\n    # convert XYZ to xyz\n    xyz = XYZ / np.sum(XYZ)\n\n    return xyz\n\n\ndef xyz2rgb(xyz):\n    &#x27;&#x27;&#x27; convert XYZ color to RGB color\n    http://brucelindbloom.com/index.html?Eqn_XYZ_to_RGB.html\n    http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n    Arg: xyz - np.array 3*1\n    Return: rgb - np.array 3*1\n    &#x27;&#x27;&#x27;\n\n    # CIE RGB\n    m = np.array([[2.3706743, -0.9000405, -0.4706338],\n                  [-0.5138850, 1.4253036, 0.0885814],\n                  [0.0052982, -0.0146949, 1.0093968]])\n\n    # linear rgb\n    rgb = np.dot(m, xyz)\n\n    # gamma companding\n    RGB = [np.power(v, 1/2.2)*255 if v &amp;gt; 0 else 0 for v in rgb]\n\n    return np.array(RGB)\n\n\ndef mat_interface(r, t):\n    &#x27;&#x27;&#x27; Build transfer matrix for an interface\n    Arg: r - complex\n         t - complex\n    Return: m - np.array 2*2 complex\n    &#x27;&#x27;&#x27;\n\n    m = np.array([[1, r], [r, 1]], dtype=complex)\n\n    return np.divide(m, t)\n\n\ndef mat_propogation(delta):\n    &#x27;&#x27;&#x27; Build transfer matrix for light propogation at the length of delta\n    Arg: delta - float\n    Return: m - np.array 2*2 complex\n    &#x27;&#x27;&#x27;\n\n    m = np.array([[np.cos(delta)+1j*np.sin(delta), 0], [0, np.cos(delta)-1j*np.sin(delta)]], \n                 dtype=complex)\n\n    return m\n\n\ndef reflectance(x_n_pair, d, theta_i):\n    &#x27;&#x27;&#x27; calculate reflectance spectrum of a soap bubble single layer\n        with layer thickness of d(nm) and incident angle theta_i(deg), at wavelength x(nm) &amp;amp; with refractive index N1, N2\n    Arg: x_n_pair - tuple of (x, N1, N2)\n            x - float (nm)\n            N1, N2 - float\n         d - float (nm)\n         theta_i - float (deg)\n    Return: R - float\n    &#x27;&#x27;&#x27;\n\n    # unpack pairs\n    x, N1, N2 = x_n_pair\n\n    theta_i_rad = np.deg2rad(theta_i)\n    theta_t = np.arcsin(N1 * np.sin(theta_i_rad) / N2)    # in radian\n    delta = 2 * pi * N2 * d / (x * np.sqrt(1 - (np.sin(theta_i_rad)*N1/N2)**2))\n\n    rs1 = (N1 * np.cos(theta_i_rad) - N2 * np.cos(theta_t)) / \\\n         (N1 * np.cos(theta_i_rad) + N2 * np.cos(theta_t))\n    ts1 = 2 * N1 * np.cos(theta_i_rad) / (N1 * np.cos(theta_i_rad) + N2 * np.cos(theta_t))\n    rs2 = -rs1\n    ts2 = 2 * N2 * np.cos(theta_t) / (N1 * np.cos(theta_i_rad) + N2 * np.cos(theta_t))\n\n    rp1 = (N2 * np.cos(theta_i_rad) - N1 * np.cos(theta_t)) / \\\n         (N2 * np.cos(theta_i_rad) + N1 * np.cos(theta_t))\n    tp1 = 2 * N1 * np.cos(theta_i_rad) / (N2 * np.cos(theta_i_rad) + N1 * np.cos(theta_t))\n    rp2 = -rp1\n    tp2 = 2 * N2 * np.cos(theta_t) / (N2 * np.cos(theta_i_rad) + N1 * np.cos(theta_t))\n\n    m_prog = mat_propogation(delta)\n    m1_s = mat_interface(rs1, ts1)\n    m1_p = mat_interface(rp1, tp1)\n    m2_s = mat_interface(rs2, ts2)\n    m2_p = mat_interface(rp2, tp2)\n    Ms = np.linalg.multi_dot([m1_s, m_prog, m2_s])\n    Mp = np.linalg.multi_dot([m1_p, m_prog, m2_p])\n\n    R = (np.absolute(Ms[1,0]/Ms[0,0])**2 + np.absolute(Mp[1,0]/Mp[0,0])**2) / 2\n\n    return R\n\n\nif __name__ == &#x27;__main__&#x27;:\n\n    # load cmf functions\n    _t = np.loadtxt(&#x27;XYZ_CMF_2deg.csv&#x27;, delimiter=&#x27;,&#x27;)\n    x = _t[:,0]     # wavelength range\n    cmf = _t[:,1:]  # cmf function values\n\n    # refractive index of air (approx. 1)\n    N1 = np.ones(np.shape(x))\n    # load water refractive index &amp;amp; interpolate to wavelength range of x\n    _n = np.loadtxt(&#x27;refractive_index_water.csv&#x27;, delimiter=&#x27;,&#x27;)\n    N2 = n_interpolation(_n, x)\n    # packing wavelengths and N1, N2\n    x_n_pair = np.column_stack((x, N1, N2))\n\n    with open(&#x27;soap_bubble_color_data.dat&#x27;, &#x27;w&#x27;) as f:\n        f.write(&#x27;d,theta,R,G,B\\n&#x27;)\n        for d in range(1, 1001, 1):\n            for theta in range(0, 90, 1):\n                spec = np.apply_along_axis(reflectance, 1, x_n_pair, d, theta)\n                RGB = xyz2rgb(spec2xyz(spec, cmf))\n                f.write(&#x27;{:g},{:g},{:.0f},{:.0f},{:.0f}\\n&#x27;.format(d, theta, *list(RGB)))\n            f.write(&#x27;\\n&#x27;)\n&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;作图软件也茫茫多，我最常用的是 gnuplot。以下是 gnuplot 使用计算出的数据绘制最终示意图的代码。中间用了一些 gnuplot 的黑科技，我就不再详细解释了，毕竟用到的人不会很多。&lt;/p&gt;&lt;div class=\&quot;highlight\&quot;&gt;&lt;pre&gt;&lt;code class=\&quot;language-gnuplot\&quot;&gt;&lt;span class=\&quot;k\&quot;&gt;set&lt;/span&gt; &lt;span class=\&quot;nb\&quot;&gt;datafile&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;sep&lt;/span&gt; &lt;span class=\&quot;s\&quot;&gt;&#x27;,&#x27;&lt;/span&gt;\n\n&lt;span class=\&quot;k\&quot;&gt;set&lt;/span&gt; &lt;span class=\&quot;nb\&quot;&gt;xtics&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;out&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;mirror&lt;/span&gt;\n&lt;span class=\&quot;k\&quot;&gt;set&lt;/span&gt; &lt;span class=\&quot;nb\&quot;&gt;ytics&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;out&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;mirror&lt;/span&gt;\n&lt;span class=\&quot;k\&quot;&gt;set&lt;/span&gt; &lt;span class=\&quot;nb\&quot;&gt;tics&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;scale&lt;/span&gt; &lt;span class=\&quot;mf\&quot;&gt;0.3&lt;/span&gt;\n&lt;span class=\&quot;k\&quot;&gt;set&lt;/span&gt; &lt;span class=\&quot;nb\&quot;&gt;xlabel&lt;/span&gt; &lt;span class=\&quot;s\&quot;&gt;&#x27;薄膜厚度（纳米）&#x27;&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;offset&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;0&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;,&lt;/span&gt; &lt;span class=\&quot;mf\&quot;&gt;0.5&lt;/span&gt;\n&lt;span class=\&quot;k\&quot;&gt;set&lt;/span&gt; &lt;span class=\&quot;nb\&quot;&gt;ylabel&lt;/span&gt; &lt;span class=\&quot;s\&quot;&gt;&#x27;入射角（°）&#x27;&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;offset&lt;/span&gt; &lt;span class=\&quot;mf\&quot;&gt;0.5&lt;/span&gt;\n&lt;span class=\&quot;k\&quot;&gt;set&lt;/span&gt; &lt;span class=\&quot;nb\&quot;&gt;xrange&lt;/span&gt; &lt;span class=\&quot;p\&quot;&gt;[&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;1&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;:&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;1000&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;]&lt;/span&gt;\n&lt;span class=\&quot;k\&quot;&gt;set&lt;/span&gt; &lt;span class=\&quot;nb\&quot;&gt;yrange&lt;/span&gt; &lt;span class=\&quot;p\&quot;&gt;[&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;0&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;:&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;90&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;]&lt;/span&gt;\n&lt;span class=\&quot;k\&quot;&gt;set&lt;/span&gt; &lt;span class=\&quot;nb\&quot;&gt;view&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;map&lt;/span&gt;\n&lt;span class=\&quot;k\&quot;&gt;set&lt;/span&gt; &lt;span class=\&quot;nb\&quot;&gt;xyplane&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;at&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;1&lt;/span&gt;\n&lt;span class=\&quot;k\&quot;&gt;unset&lt;/span&gt; &lt;span class=\&quot;nb\&quot;&gt;colorbox&lt;/span&gt;\n\n&lt;span class=\&quot;nf\&quot;&gt;rgb&lt;/span&gt;(r,g,b) &lt;span class=\&quot;o\&quot;&gt;=&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;65536&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;*&lt;/span&gt; &lt;span class=\&quot;nf\&quot;&gt;int&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;r&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;256&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;*&lt;/span&gt; &lt;span class=\&quot;nf\&quot;&gt;int&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;g&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt; &lt;span class=\&quot;o\&quot;&gt;+&lt;/span&gt; &lt;span class=\&quot;nf\&quot;&gt;int&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;n\&quot;&gt;b&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;\n&lt;span class=\&quot;k\&quot;&gt;splot&lt;/span&gt; &lt;span class=\&quot;s\&quot;&gt;&#x27;soap_bubble_color_data.dat&#x27;&lt;/span&gt; &lt;span class=\&quot;nb\&quot;&gt;u&lt;/span&gt; &lt;span class=\&quot;mi\&quot;&gt;1&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;:&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;2&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;:&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;1&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;)&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;:&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;nf\&quot;&gt;rgb&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;(&lt;/span&gt;&lt;span class=\&quot;err\&quot;&gt;$&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;3&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;,&lt;/span&gt;&lt;span class=\&quot;err\&quot;&gt;$&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;4&lt;/span&gt;&lt;span class=\&quot;o\&quot;&gt;,&lt;/span&gt;&lt;span class=\&quot;err\&quot;&gt;$&lt;/span&gt;&lt;span class=\&quot;mi\&quot;&gt;5&lt;/span&gt;&lt;span class=\&quot;p\&quot;&gt;))&lt;/span&gt; &lt;span class=\&quot;nb\&quot;&gt;w&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;pm3d&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;lc&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;rgb&lt;/span&gt; &lt;span class=\&quot;n\&quot;&gt;variable&lt;/span&gt; &lt;span class=\&quot;nb\&quot;&gt;t&lt;/span&gt; &lt;span class=\&quot;s\&quot;&gt;&#x27;&#x27;&lt;/span&gt;\n&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;最终效果就是下图。JPG 压缩的失真有些严重，感兴趣的朋友可以自己取数据作图。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic2.zhimg.com/v2-6a690576509d93f63b761790f417a95a_b.jpg\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;1318\&quot; data-rawheight=\&quot;831\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;1318\&quot; data-original=\&quot;https://pic2.zhimg.com/v2-6a690576509d93f63b761790f417a95a_r.jpg\&quot;&gt;&lt;figcaption&gt;最终效果&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;这个图形花样，在排除图片和照片的白平衡、压缩等失真的影响后，和 &lt;a class=\&quot;member_mention\&quot; href=\&quot;http://www.zhihu.com/people/3f0b96afb74a3686e23f9d1872b961df\&quot; data-hash=\&quot;3f0b96afb74a3686e23f9d1872b961df\&quot; data-hovercard=\&quot;p$b$3f0b96afb74a3686e23f9d1872b961df\&quot;&gt;@Antediluvian&lt;/a&gt; 的回答中引用的模拟结果和照片完全吻合。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic4.zhimg.com/v2-61874314dd73508fa8abff1652327433_b.jpg\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;720\&quot; data-rawheight=\&quot;453\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;720\&quot; data-original=\&quot;https://pic4.zhimg.com/v2-61874314dd73508fa8abff1652327433_r.jpg\&quot;&gt;&lt;figcaption&gt;https://www.zhihu.com/question/24170019/answer/36623405&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;&quot;,&quot;commentCount&quot;:42,&quot;imageUrl&quot;:&quot;https://pic4.zhimg.com/50/v2-371f9f2b427b232a3a7f3e37935a01d1_hd.jpg&quot;,&quot;linkbox&quot;:{&quot;url&quot;:&quot;&quot;,&quot;category&quot;:&quot;&quot;,&quot;pic&quot;:&quot;&quot;,&quot;title&quot;:&quot;&quot;},&quot;excerptNew&quot;:&quot;这是一篇纯技术文，欢迎评论转发。 这篇文章是我为@中国科普博览写的科普文为什么阳光下的泡沫是彩色的？的幕后彩蛋。为什么阳光下的泡沫是彩色的？ 我不想做空口无凭的科普。科普文中的示意图背后，都要有实实在在的准确数据支撑。所以，在这篇文章中，我就要…&quot;,&quot;excerptTitle&quot;:&quot;&quot;,&quot;previewText&quot;:&quot;&quot;,&quot;voting&quot;:0,&quot;type&quot;:&quot;article&quot;},&quot;46777306&quot;:{&quot;updated&quot;:1539582632,&quot;author&quot;:{&quot;isFollowed&quot;:false,&quot;type&quot;:&quot;people&quot;,&quot;name&quot;:&quot;Eric Fu&quot;,&quot;headline&quot;:&quot;Infra Developer, Database &amp;amp; Big Data&quot;,&quot;urlToken&quot;:&quot;fuyufjh&quot;,&quot;userType&quot;:&quot;people&quot;,&quot;url&quot;:&quot;https://api.zhihu.com/people/aad0a29c55d97c6b78b5176853bf31a7&quot;,&quot;avatarUrl&quot;:&quot;https://pic4.zhimg.com/50/v2-e9132a80aafe2434f7e211dad84210a6_s.jpg&quot;,&quot;isFollowing&quot;:false,&quot;isOrg&quot;:false,&quot;gender&quot;:1,&quot;badge&quot;:[],&quot;id&quot;:&quot;aad0a29c55d97c6b78b5176853bf31a7&quot;},&quot;excerpt&quot;:&quot;F1 是起源于 Google AdWords 的分布式 SQL 查询引擎，跟底下的 Spanner 分布式存储搭配，开启了分布式关系数据库——所谓 NewSQL 的时代。我们今天说的是 F1 团队在 VLDB2018 上发的文章 &lt;a href=\&quot;http://link.zhihu.com/?target=http%3A//www.vldb.org/pvldb/vol11/p1835-samwel.pdf\&quot; class=\&quot; wrap external\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noreferrer\&quot;&gt;F1 Query: Declarative Querying at Scale&lt;/a&gt;，它和之前我们说的 F1 几乎是两个东西。F1 Query 是一个分布式的 SQL 执行引擎，现在大数据领域流行的 Presto、Spark SQL、Hive 等等，都可以算在这个范畴里。类似地，F1 Query 也支持对各种不同数…&quot;,&quot;collection&quot;:{&quot;title&quot;:&quot;a&quot;,&quot;url&quot;:&quot;https://api.zhihu.com/collections/26712572&quot;,&quot;answerCount&quot;:522,&quot;isFollowing&quot;:false,&quot;followerCount&quot;:0,&quot;isPublic&quot;:true,&quot;type&quot;:&quot;collection&quot;,&quot;id&quot;:26712572},&quot;id&quot;:46777306,&quot;voteupCount&quot;:58,&quot;upvotedFollowees&quot;:[],&quot;created&quot;:1539572089,&quot;url&quot;:&quot;https://api.zhihu.com/articles/46777306&quot;,&quot;commentPermission&quot;:&quot;all&quot;,&quot;title&quot;:&quot;从 F1 Query 论文看 SQL 查询的执行模式&quot;,&quot;previewType&quot;:&quot;default&quot;,&quot;content&quot;:&quot;&lt;p&gt;F1 是起源于 Google AdWords 的分布式 SQL 查询引擎，跟底下的 Spanner 分布式存储搭配，开启了分布式关系数据库——所谓 NewSQL 的时代。我们今天说的是 F1 团队在 VLDB2018 上发的文章 &lt;a href=\&quot;http://link.zhihu.com/?target=http%3A//www.vldb.org/pvldb/vol11/p1835-samwel.pdf\&quot; class=\&quot; wrap external\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noreferrer\&quot;&gt;F1 Query: Declarative Querying at Scale&lt;/a&gt;，它和之前我们说的 F1 几乎是两个东西。&lt;/p&gt;&lt;p&gt;F1 Query 是一个分布式的 SQL 执行引擎，现在大数据领域流行的 Presto、Spark SQL、Hive 等等，都可以算在这个范畴里。类似地，F1 Query 也支持对各种不同数据源的查询，既可以是传统的关系表、也可以是 Parquet 这样的半结构化数据。&lt;/p&gt;&lt;p&gt;这样一来，不同数据格式的壁垒也被打破了：你可以在一个系统里完成对不同数据源的 Join，无论数据以什么形式存放在哪里。商业上管这个叫 Federated Query 或者 DataLake，几家云计算巨头都有类似的产品。&lt;/p&gt;&lt;p&gt;&lt;b&gt;那 F1 Query 的贡献在哪里呢？&lt;/b&gt;&lt;/p&gt;&lt;p&gt;F1 Query 定义了三种不同类型的查询执行模式，根据查询的数据量大小或执行时间，将用户查询划分成：&lt;/p&gt;&lt;ol&gt;&lt;li&gt;单机执行（Centralized Execution）&lt;/li&gt;&lt;li&gt;分布式执行（Distributed Execution）&lt;/li&gt;&lt;li&gt;批处理执行（Batch Execution）&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;前两个是交互式的，即客户端会等待结果返回。最后一个批处理更像是 ETL：客户端输入任务之后就不再管了，查询结果会被写到指定的地方。&lt;/p&gt;&lt;h2&gt;&lt;b&gt;单机执行&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;单机执行对应我们熟悉的 OLTP 查询，例如单表点查、带索引的 Join 等。这类查询本身已经足够简单，只需几毫秒就能做完，处理它们的最好方式就是在收到请求的机器上立即执行。&lt;/p&gt;&lt;p&gt;在 F1 Query 系统中有 F1 Server 和 F1 Worker 等角色。F1 Server 负责接收客户端请求，如果它判断这个查询应当使用单机而不是分布式方式执行，它就亲力亲为、直接执行并返回结果。&lt;/p&gt;&lt;p&gt;这样的行为和绝大多数单机 OLTP 数据库是一致的，例如 MySQL 采用的是 Thread Pool + Dispatcher 的处理模型，Thread Pool 的规模是一定的，Dispatcher 根据高低优先级分派执行任务。最终一个请求只会被一个线程处理，换句话说，对某个查询来说其执行过程是单线程的。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic1.zhimg.com/v2-db8490cf7dc7ef79101595c52bc5b01e_b.jpg\&quot; data-rawwidth=\&quot;756\&quot; data-rawheight=\&quot;264\&quot; data-size=\&quot;normal\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;756\&quot; data-original=\&quot;https://pic1.zhimg.com/v2-db8490cf7dc7ef79101595c52bc5b01e_r.jpg\&quot;&gt;&lt;figcaption&gt;MySQL 的线程池处理模型，一般存在多个 Thread Group，图中描绘了一个 Thread Group&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;F1 Query 单机查询的执行器同样也是教科书式的 Valcano 模型，但也无可厚非——对 OLTP 来说这已经足够好。如下图所示，从顶层算子开始递归地调用 &lt;code&gt;GetNext()&lt;/code&gt;，每次取出一行数据，直到没有更多数据为止。各个算子只需要实现 &lt;code&gt;GetNext()&lt;/code&gt; 接口即可，简单清晰。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic1.zhimg.com/v2-0f22da6d0bd8c9cb369a5763e736fdbe_b.jpg\&quot; data-rawwidth=\&quot;510\&quot; data-rawheight=\&quot;254\&quot; data-size=\&quot;normal\&quot; data-caption=\&quot;\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;510\&quot; data-original=\&quot;https://pic1.zhimg.com/v2-0f22da6d0bd8c9cb369a5763e736fdbe_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2&gt;&lt;b&gt;分布式执行&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;F1 Query 对更复杂的查询，例如没有索引的 Join 或聚合等，则采取分布式查询的方式。大部分 OLAP 查询、尤其是 Ad-hoc 的查询都落在这一分类中。这种情况下，分布式导致的网络、调度等 Overhead 已经远小于查询本身的成本；而且随着数据量的增加，单节点内存显然不够用了。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic2.zhimg.com/v2-99531d49451409f8b4dace4abd228d6a_b.jpg\&quot; data-rawwidth=\&quot;623\&quot; data-rawheight=\&quot;409\&quot; data-size=\&quot;normal\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;623\&quot; data-original=\&quot;https://pic2.zhimg.com/v2-99531d49451409f8b4dace4abd228d6a_r.jpg\&quot;&gt;&lt;figcaption&gt;F1 Query 的系统架构，主要包含 F1 Master、F1 Server、F1 Worker 三个角色，其他 Catalog、UDF Server、Batch Metadata 用于存储查询相关的 Metadata 等&lt;/figcaption&gt;&lt;/figure&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;这时，上图中的 F1 Worker 就派上用场了。&lt;b&gt;F1 Server 此时仅仅作为协调者存在，将任务分配给多个 Worker&lt;/b&gt;，直到 Worker 的任务全都完成，再把结果汇总发给客户端。&lt;/p&gt;&lt;p&gt;这个模式眼熟吗？你可能会想到 Greenplum 这类的数据仓库，已经很接近了。最相似的我认为是 Presto。Presto 是 Facebook 开发的一套分布式 SQL 引擎，如果单单只看 F1 Query 的分布式查询，和 Presto 大同小异。&lt;/p&gt;&lt;p&gt;与单机执行不同的是，&lt;b&gt;分布式查询中的算子可以有多个实例（Instance）并行执行，每个实例负责其中一部分数据&lt;/b&gt;。在 F1 Query 里这样一个数据分片被称为 Fragment，在 Spark SQL 里叫 Partition，在 Presto 里叫 Split。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic1.zhimg.com/v2-8e142f89b229df16d7d655e6e578bafb_b.jpg\&quot; data-rawwidth=\&quot;623\&quot; data-rawheight=\&quot;240\&quot; data-size=\&quot;normal\&quot; data-caption=\&quot;\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;623\&quot; data-original=\&quot;https://pic1.zhimg.com/v2-8e142f89b229df16d7d655e6e578bafb_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;下面的例子是一个 Join-Aggregation-Sort 的查询，它分成了 4 个阶段：&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;code&gt;Scan(Clicks)&lt;/code&gt; 被分配给 1000 个 F1 Worker 上并行拉取数据，并根据每一行数据的 &lt;code&gt;Hash(AdID)&lt;/code&gt; 发送给对应的 &lt;code&gt;HashJoin&lt;/code&gt; 分片，即一般说的 shuffle 过程;&lt;/li&gt;&lt;li&gt;&lt;code&gt;Scan(Ads)&lt;/code&gt; 被分配给 200 个 F1 Worker 上并行拉取数据，并且也以同样的方式做 shuffle；&lt;/li&gt;&lt;li&gt;&lt;code&gt;HashJoin&lt;/code&gt; 及 &lt;code&gt;PartialAggregation&lt;/code&gt;：根据 Join Key 分成了 1000 个并行任务，各自做 Join 计算，并做一次聚合；&lt;/li&gt;&lt;li&gt;最后，F1 Server 把各个分片的聚合结果再汇总起来，返回给客户端。&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic1.zhimg.com/v2-fdc69a3af450435e2114227f5a9ee2eb_b.jpg\&quot; data-rawwidth=\&quot;623\&quot; data-rawheight=\&quot;450\&quot; data-size=\&quot;normal\&quot; data-caption=\&quot;\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;623\&quot; data-original=\&quot;https://pic1.zhimg.com/v2-fdc69a3af450435e2114227f5a9ee2eb_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Presto 具有的缺陷，F1 Query 分布式查询同样也有，比如：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;纯内存的计算方式，无法利用磁盘的存储空间，某些查询可能面临内存不足；&lt;/li&gt;&lt;li&gt;没有 Fault-tolerance，对于一个涉及上千台 Worker 的查询，任何一台的重启都会导致查询失败。&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;&lt;b&gt;批处理执行&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;F1 Query 还有个独特的批处理执行，这个模式定位于更大的数据量、更久的查询时间；另一方面，它的结果不再是返回给客户端，而是将查询结果写到指定的地方，例如 Colossus（第二代 GFS）上。&lt;/p&gt;&lt;p&gt;上一节我们提道，Presto 的模式没有 Fault-tolerance，这对于长时间运行的批处理任务是致命的，查询失败的概率会大大增加。批处理查询首先要解决的就是 Fault-tolerance 问题：&lt;b&gt;必须能以某种方式从 Worker 节点的失败中恢复&lt;/b&gt;。&lt;/p&gt;&lt;p&gt;解决这个问题有两条路可走：一是 MapReduce 的模式，将计算分成若干个阶段（Stage），而中间结果持久化到 HDFS 这样的分布式文件系统上；二是 Spark RDD 模式，通过记录祖先（Lineage）信息，万一发生节点失败，就通过简单的重算来恢复丢失的数据分片，这样数据就可以放在内存里不用落盘。&lt;/p&gt;&lt;p&gt;Spark 的做法显然是更先进的，原因有很多，这里只说最重要的 2 条。欲知详情可以看我之前的博客文章&lt;a href=\&quot;http://link.zhihu.com/?target=https%3A//ericfu.me/apache-spark-in-nutshell/\&quot; class=\&quot; wrap external\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noreferrer\&quot;&gt;《一文读懂 Apache Spark》&lt;/a&gt;。&lt;/p&gt;&lt;ol&gt;&lt;li&gt;Spark 的计算基本在内存中，只有当内存不够时才会溢出到磁盘，而 MR 的中间结果必须写入外部文件系统；&lt;/li&gt;&lt;li&gt;Spark 可以把执行计划 DAG 中相互不依赖的 Stage 并行执行，而 MR 只能线性地一个接一个 Stage 执行。&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;但是出乎意料的是，F1 Query 采用的是前者，也就是 MR 模式。这其中的原因我们不得而知，我猜想和 Google 自家的 FlumeJava 不够给力有关系。&lt;/p&gt;&lt;p&gt;如下图。左边的 Physical Plan 和上一节的分布式查询是一样的，不同之处是&lt;b&gt;在批处理模式下，它被转换成一系列的 MR 任务&lt;/b&gt;，之后交给调度器（Scheduler）去处理即可。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic4.zhimg.com/v2-ba1a1bf196f42daf61ca99e6d0da9fae_b.jpg\&quot; data-rawwidth=\&quot;490\&quot; data-rawheight=\&quot;329\&quot; data-size=\&quot;normal\&quot; data-caption=\&quot;\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;490\&quot; data-original=\&quot;https://pic4.zhimg.com/v2-ba1a1bf196f42daf61ca99e6d0da9fae_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;相比分布式执行，批处理模式下各个步骤都会持久化到外部文件系统（因为 MapReduce 的特性所致）。不仅如此，&lt;b&gt;Pipeline 式的执行也没法进行&lt;/b&gt;。以上一节提到的 HashJoin 为例，左边 &lt;code&gt;Clicks&lt;/code&gt; 的 Scan 和 HashJoin 原本是可以 Pipeline 执行的，但是在批处理模式下，必须等到 &lt;code&gt;Scan(Clicks)&lt;/code&gt; 这个阶段完成才能进行下一步的 HashJoin 阶段。&lt;/p&gt;&lt;h2&gt;&lt;b&gt;单机并行执行&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;除了上面聊的 F1 Query 所支持的 3 种查询模式之外，事实上还有一种处理模型位于单线程执行和分布式执行之间：单机的并行执行。初看这似乎与分布式执行很相似，但又有些不同：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;不用考虑单个 Worker 的失败恢复，因为它们都在同一个进程里；&lt;/li&gt;&lt;li&gt;各个 Worker 线程的内存是共享的，它们之间交换数据无需考虑网络通讯代价。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;这种模式在传统的关系型数据库上很常见，尤其是 Postgres、SQL Server 这类以 OLAP 查询见长的选手。以 Postgres 为例，在开启并行查询的情况下，查询优化器会根据代价选择是否生成并行执行计划；如果生成了并行执行计划，执行器会调度多个 Worker 一起完成工作。&lt;/p&gt;&lt;p&gt;下图是一个 Postgres 上并行 Hash Join 的例子，从执行计划上看和上一节几乎一样，但是这里不再需要对数据做 Shuffle：Hash Join 所用的 Hash Table 本身是全局共享的。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic4.zhimg.com/v2-2129a06ee2e10005f7c9f45c134ec4d4_b.jpg\&quot; data-rawwidth=\&quot;970\&quot; data-rawheight=\&quot;386\&quot; data-size=\&quot;normal\&quot; data-caption=\&quot;\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;970\&quot; data-original=\&quot;https://pic4.zhimg.com/v2-2129a06ee2e10005f7c9f45c134ec4d4_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;blockquote&gt;Parallel Hash Join 并非只有这一种做法。SQL Server 就更接近分布式执行的方案：把 Hash Key 相同的数据 shuffle 到同一个分片上——但这个 shuffle 只是逻辑上的，不需要真的做 IO。&lt;/blockquote&gt;&lt;p&gt;相比分布式查询，&lt;b&gt;单机并行的最大优势在于响应速度更快&lt;/b&gt;，因为省去了大量的网络 IO 时间，而且调度一个 Worker 线程要比调度一个 Worker 机器快得多。&lt;/p&gt;&lt;p&gt;但别忘了，单机运算能力的 scale up 成本非常高，并且是存在上限的。对于 Google 之类的互联网公司，绝大部分查询都超出了单机的存储或计算能力，我猜测这也是 F1 Query 并未考虑单机并行的理由。&lt;/p&gt;&lt;h2&gt;&lt;b&gt;对 F1 Query 的评价&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;从论文描述的情况来看，F1 Query 还不算个完善、成熟的系统，其定位更像是一个解决业务需求的胶水系统，而非 Spanner 这样的“硬核”技术。它追求的是够用就好。很多地方其实还有不小的改进空间，举几个例子：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;对交互式查询，选择分布式还是单机计算目前还是基于启发式规则。&lt;/li&gt;&lt;li&gt;三种模式的执行计划是用一样的优化器生成的。但是客观的说，这其中的差别可是不小的。&lt;/li&gt;&lt;li&gt;优化器是基于规则的。之所以不做 CBO，论文给出的解释是数据源众多，不容易估算代价。&lt;/li&gt;&lt;li&gt;批处理模式下用 Spark 取代 MR 的模式是更好的选择。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;F1 Query 希望&lt;b&gt;用一套系统解决所有 OLTP、OLAP、ETL 需求、用一套系统访问数据中心里各种格式的数据&lt;/b&gt;，这两点才是 F1 Query 的核心竞争力。&lt;/p&gt;&lt;h2&gt;&lt;b&gt;SQL 执行模式总结&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;从数据库的视角看，理想的数据库应当隐藏掉查询执行的种种细节，只要用户输入一个声明（例如 SQL），就能以最优的方式执行查询给出答案。F1 Query 做了个勇敢的尝试，&lt;b&gt;它将多种执行模型揉合在一个系统中，共享同一套优化器和算子&lt;/b&gt;，以较低的开发成本获得其中最优的执行性能（在理想情况下）。&lt;/p&gt;&lt;p&gt;下面的表格总结了 4 种执行模式的优势和不足。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic4.zhimg.com/v2-23293db93587f8803cfc6535548ac3f0_b.jpg\&quot; data-rawwidth=\&quot;1506\&quot; data-rawheight=\&quot;654\&quot; data-size=\&quot;normal\&quot; data-caption=\&quot;\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;1506\&quot; data-original=\&quot;https://pic4.zhimg.com/v2-23293db93587f8803cfc6535548ac3f0_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;p&gt;总而言之，所谓 &lt;a href=\&quot;http://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/No_free_lunch_theorem\&quot; class=\&quot; wrap external\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noreferrer\&quot;&gt;No Free Lunch&lt;/a&gt; —— 没有最优的方案，&lt;b&gt;数据量是决定能选用哪个执行模式的前提&lt;/b&gt;。实践中，先确保数据量能够承载的下，再谈优化也就明白多了。&lt;/p&gt;&lt;h2&gt;&lt;b&gt;References&lt;/b&gt;&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;a href=\&quot;http://link.zhihu.com/?target=http%3A//www.vldb.org/pvldb/vol11/p1835-samwel.pdf\&quot; class=\&quot; wrap external\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noreferrer\&quot;&gt;F1 Query: Declarative Querying at Scale&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=\&quot;http://link.zhihu.com/?target=https%3A//www.programering.com/a/MTO5YDMwATI.html\&quot; class=\&quot; wrap external\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noreferrer\&quot;&gt;MySQL Thread Pool Implementation&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=\&quot;http://link.zhihu.com/?target=https%3A//tech.meituan.com/presto.html\&quot; class=\&quot; wrap external\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noreferrer\&quot;&gt;Presto 实现原理和美团的使用实践 - 美团技术团队&lt;/a&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;b&gt;原文链接：&lt;/b&gt; &lt;a href=\&quot;http://link.zhihu.com/?target=https%3A//ericfu.me/f1-query-and-approaches-of-sql-execution/\&quot; class=\&quot; external\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noreferrer\&quot;&gt;&lt;span class=\&quot;invisible\&quot;&gt;https://&lt;/span&gt;&lt;span class=\&quot;visible\&quot;&gt;ericfu.me/f1-query-and-&lt;/span&gt;&lt;span class=\&quot;invisible\&quot;&gt;approaches-of-sql-execution/&lt;/span&gt;&lt;span class=\&quot;ellipsis\&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;br&gt;本文章采用 &lt;a href=\&quot;http://link.zhihu.com/?target=https%3A//creativecommons.org/licenses/by-nc-sa/3.0/\&quot; class=\&quot; wrap external\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noreferrer\&quot;&gt;CC BY-NC-SA 3.0&lt;/a&gt; 许可协议，转载请注明出处！&lt;/blockquote&gt;&quot;,&quot;commentCount&quot;:0,&quot;imageUrl&quot;:&quot;https://pic2.zhimg.com/50/v2-4e9d563c1806e8b1d9daac6ce74ad450_hd.jpg&quot;,&quot;linkbox&quot;:{&quot;url&quot;:&quot;&quot;,&quot;category&quot;:&quot;&quot;,&quot;pic&quot;:&quot;&quot;,&quot;title&quot;:&quot;&quot;},&quot;excerptNew&quot;:&quot;F1 是起源于 Google AdWords 的分布式 SQL 查询引擎，跟底下的 Spanner 分布式存储搭配，开启了分布式关系数据库——所谓 NewSQL 的时代。我们今天说的是 F1 团队在 VLDB2018 上发的文章F1 Query: Declarative Querying at Scale，它和之前我们说的 F1 几乎是两…&quot;,&quot;excerptTitle&quot;:&quot;&quot;,&quot;previewText&quot;:&quot;&quot;,&quot;voting&quot;:0,&quot;type&quot;:&quot;article&quot;},&quot;47172841&quot;:{&quot;updated&quot;:1539934412,&quot;author&quot;:{&quot;isFollowed&quot;:false,&quot;type&quot;:&quot;people&quot;,&quot;name&quot;:&quot;阿里云云栖社区&quot;,&quot;headline&quot;:&quot;汇集阿里技术精粹！微信号yunqiinsight&quot;,&quot;urlToken&quot;:&quot;a-li-yun-yun-qi-she-qu-48&quot;,&quot;userType&quot;:&quot;organization&quot;,&quot;url&quot;:&quot;https://api.zhihu.com/people/65b52731faea3de2e983890f3f3fffa1&quot;,&quot;avatarUrl&quot;:&quot;https://pic2.zhimg.com/50/v2-d504101dc43ae7f28042aecbfa2284cc_s.jpg&quot;,&quot;isFollowing&quot;:false,&quot;isOrg&quot;:true,&quot;gender&quot;:1,&quot;badge&quot;:[{&quot;type&quot;:&quot;identity&quot;,&quot;description&quot;:&quot;已认证的官方帐号&quot;}],&quot;id&quot;:&quot;65b52731faea3de2e983890f3f3fffa1&quot;},&quot;excerpt&quot;:&quot;饿了么经过了10年的发展，日订单量从几十万到了千万，数据增长如此之快，数据库管理人员如何保障业务快速发展，实现高可用以及数据安全并且提高运维效率呢？本文中饿了么数据技术部负责人虢国飞就为大家揭晓答案。饿了么的数据库需求背景对于创业公司或者高速发展的行业而言，访问量或者数据量都是呈指数级别地上升的，饿了么也是其中的一个案例。那么在业务数据增长如此之快的情况下，如何保证数据库的容量、高可用、数据安全以…&quot;,&quot;id&quot;:47172841,&quot;voteupCount&quot;:14,&quot;upvotedFollowees&quot;:[],&quot;created&quot;:1539934412,&quot;url&quot;:&quot;https://api.zhihu.com/articles/47172841&quot;,&quot;commentPermission&quot;:&quot;all&quot;,&quot;title&quot;:&quot;饿了么数据库发展中的解决方案&quot;,&quot;previewType&quot;:&quot;default&quot;,&quot;content&quot;:&quot;&lt;p&gt;饿了么经过了10年的发展，日订单量从几十万到了千万，数据增长如此之快，数据库管理人员如何保障业务快速发展，实现高可用以及数据安全并且提高运维效率呢？本文中饿了么数据技术部负责人虢国飞就为大家揭晓答案。&lt;/p&gt;&lt;figure&gt;&lt;img src=\&quot;https://pic4.zhimg.com/v2-0344419bfcffc3b24b570a60a3c13ce6_b.jpg\&quot; data-caption=\&quot;\&quot; data-size=\&quot;normal\&quot; data-rawwidth=\&quot;1240\&quot; data-rawheight=\&quot;827\&quot; class=\&quot;origin_image zh-lightbox-thumb\&quot; width=\&quot;1240\&quot; data-original=\&quot;https://pic4.zhimg.com/v2-0344419bfcffc3b24b570a60a3c13ce6_r.jpg\&quot;&gt;&lt;/figure&gt;&lt;h2&gt;饿了么的数据库需求背景&lt;/h2&gt;&lt;p&gt;对于创业公司或者高速发展的行业而言，访问量或者数据量都是呈指数级别地上升的，饿了么也是其中的一个案例。那么在业务数据增长如此之快的情况下，如何保证数据库的容量、高可用、数据安全以及运维的效率呢？&lt;/p&gt;&lt;p&gt;这次分享主要谈以下几点：首先需要有好的数据架构，这样能够保证容量的充足；其次需要提高数据库的可用性，以及对于数据流的控制和对于数据安全的保证，再有就是如何高效地完成大规模的数据运维，最后一点就是应该如何充分借助阿里云的力量。&lt;/p&gt;&lt;p&gt;可能大家对于饿了么的了解也是在最近三四年的时间，但是饿了么已经创办10年了。在2015年的时候，饿了么每天也就只有几十万个订单，而到了2016年因为出现O2O热点，订单规模就到了每天百万级，到2016年底，每日订单量就到了8、9百万，并且有了上百万的商户。2017年到现在，无论是订单还是运单都是每天千万级别的规模，还有几百万商户加上百万骑手。整个链路还是比较深的，我们称之为“CBD”，所谓“C”就是用户，“B”就是商户，“D”就是物流。整个的链条非常长，每个环节都是千万级的规模，因此沉淀的数据也是非常大的。&lt;/p&gt;&lt;h2&gt;饿了么数据库架构演进之路&lt;/h2&gt;&lt;p&gt;那么饿了么数据库架构是如何演进的呢？首先在2015年~2016年，订单从几十万到了几百万，饿了么就做了数据库垂直拆分的方案。对于核心系统，预估它有多少QPS和TPS，原有的数据库架构无法支撑这样量级，就需要对于业务中相对独立的模块进行拆分，这样就可以用多套环境来支持访问压力，在这个结构下就支撑了两三百万单的规模。但是到了2016年，从业务预估的趋势来看，这套架构系统将会很快再次面临这样的瓶颈。为了解决容量的问题需要过渡到下一个阶段，就是把数据库的核心表进行水平的切分。因为垂直拆分是无法突破核心系统的瓶颈的，为了支撑上面的容量，那么就必须对核心的表进行拆解分压。一张逻辑表可能拆分成数千张小表，这样就能够保证核心系统的压力能够合理地分散到多张表不同集群中去，为业务的发展提供了比较好的底层技术扩容支持。&lt;/p&gt;&lt;p&gt;但是这样就足够了吗？在2017年的时候，饿了么数据库架构底层也面临新的问题，虽然能够在技术层面支撑技术扩容，但是机房的容量却是有限的，能放入的机器数量是有限的，此时瓶颈就又出现了。因此，在2017年饿了么做了“多活”的架构，可以用多个机房来支持业务发展。&lt;/p&gt;&lt;p&gt;在这个过程中，有两个与数据库紧密相关的组件。一个是自研的DB Proxy层面的DAL组件，它主要完成了分表和分库的功能，通过这个组件就实现了底层数据的切片扩容以及读写分离功能，在它上面还实现了连接池和连接隔离，还可以对数据层做更多的保护，比如销峰、限流以及黑白名单等机制。另外业务上可能有多维度分表需求，比如对于饿了么订单而言，有商户维度，也有用户维度，当下单的时候他们都是高频操作，此时就需要实现多维的切片，既满足用户也满足商户。当然，DAL组件对于业务也有一定的侵入性，会要求限制某些SQL的操作。&lt;/p&gt;&lt;p&gt;第二个重要的组件就是在做多活的时候有一个跨机房的数据同步的DRC组件，其主要实现的功能就是监控机房的数据变更，也就是BinLog的变化，再将这些变化Push到对端的机房中去，这样就能完成跨机房的数据同步，还可以做数据压缩、回放、幂等的处理以及过滤传输的工作，相对于MySQL原生的数据同步而言会有很大的优势。&lt;/p&gt;&lt;p&gt;当解决了容量的瓶颈之后，对于网站或者数据库而言，还需要提升整体的可用性。这里可以从几个大层面来讲，首先任何的机器和设备都可能出问题，好的HA方案是必备的，饿了么使用开源的MHA，但是也做了相应的封装和改造，保证当主库挂掉的时候能够快速切换和批量管理，也能够完成各个组件之间消息的通讯（改造后我们叫EMHA），这样就解决了单台机器出现问题时造成的可用性问题。第二种提升可用性的方式就是将核心业务分为多片，当单片数据出问题，对于业务的影响就是1/N，所以也提升了整体可用性。此外，通过异地多活带来了机房级别或者地域级别的可用性，同时也给大型的维护操作提供了Online的支持。&lt;/p&gt;&lt;p&gt;下面看下数据流，首先需要对它足够可控，流入的数据需要确保是没有风险的，对于数据流异常过大的时候能对底层环境进行相应的保护。在DAL组件中就可做这样的工作，包括有风险的SQL语句就需要被拒绝掉。当数据进入之后，在落地的时候需要有一些规则和规范，这样就能保证数据的高效性。还有资源需要进行相应的隔离，不能因为因为某一业务的问题导致其他业务出现问题。再有在数据处理完成之后，需要将数据及时推送给其他的消费方进行消费，比较典型的就是搜索和大数据。比方对于大数据而言，之前抽取数据做报表的时效性非常低，而通过DRC组件的消息订阅能够做到分钟甚至秒级别的延迟，及时地看到业务数据变化。最后一点就是落地的数据在很多时候需要与其他环境互通，如经常需要从开发向测试导入数据，此时需要给出一些数据导出规范，对于一些敏感内容需要进行脱敏和过滤。&lt;/p&gt;&lt;p&gt;解决完容量、可用性以及数据流的问题，可以看到有很多组件出现。在大规模数据的情况下，如果没有相应的流程规范支持以及运维效率工具，是很再通过人力进行数据库维护的。这里我抽取了一些在做数据库运维时可能会频繁遇到的关键点。比如SQL治理，前期SQL在建表以及编写的过程中需要有一个自动审核机制，保证符合规则以及设计高效率原则。另外，上到生产环境的SQL就必须要有对应的SQL跟踪监控机制，能够及时发现有问题的SQL。此外，对于数据库变更和发布而言，饿了么多的时候每天可能有几百个DDL表的变更，前期DBA压力比较大，后面我们实现了研发自助发布的平台，DBA就不需要参与发布的过程了，但是需要保证平台的稳定和发布风险可控。还有冷热数据的分离，在生产环境中存放数据的硬件成本都是很高的，因此需要进行数据的冷热分离，将用户经常访问的数据留在生产环境中，而将不经常访问的数据转移到比较便宜的存储上面去，实现数据归档，保证生产的高效和成本降低，目前这一块我们平台也让研发能够自助了。为了保证数据安全，饿了么实现了数据备份救援的系统，包含自动备份、闪回和备份自动验证等功能。此外，还有需求就是经常需要做数据迁移，因此我们研发了D-Bus工具，DBA只需要配置好规则，系统就能自动进行数据搬迁了。&lt;/p&gt;&lt;h2&gt;数据库架构演进之后仍然存在的问题&lt;/h2&gt;&lt;p&gt;以上就是饿了么在处理数据这部分所做的一些关键点。其实，以上对于问题的解决目前来看仍然是存在很多问题的。首先，投入非常大，无论是DAL还是DRC组件的设计研发再到成熟运行所花费的成本非常高，投入的资源、人员以及验证周期花费都非常高；整体来看目前运转效率和利用率并不是非常高，在业务的高峰时资源需要加入进去，但是在业务低谷时却退不下来，所以就使得业务低峰时利用率非常低，并且伸缩性也非常差。此外，新技术的迭代非常快，而饿了么并不具备技术的规模效应，一些技术问题可能代价过高自身难以解决。饿了么目前期望是资源随时要随时有，可以弹性伸缩，有足够丰富的生态来支持，维护简单并且使用的产品有相应的规模效应，经过了大规模的验证。&lt;/p&gt;&lt;p&gt;饿了么如今已经成为了阿里云的重度用户，首先目前我们的开发测试环境完全基于阿里云，因为需求提出很快，但是生命周期很短。其次由于饿了么的业务特点就是中午和晚上是两个订单的尖峰，所以资源在高峰时需求比较大，但是高峰过了之后就相对平缓，因此饿了么希望通过云的能力实现弹性扩缩容，提高资源利用率。再次我们目前的多活架构实现很大部分也是在阿里云的机房中的，使用阿里云机房的好处就是能逐步地调整在阿里云上的流量，而不用一开始就投入大量的资源，稳定后就可以逐步让云承载主要的流量，最终成为主力节点。最后虽然饿了么做了很多的组件和产品，但是对于阿里云的产品而言其实只是一个子集而已，整套的解决方案在阿里云上都能找到。对于高速发展的行业而言，大多数公司技术还是为业务服务的，不能够让技术成为限制业务发展的阻碍，而应该让技术快速满足业务发展需求，促进业务更快发展，所以云的成熟方案应该是性价比很高的选择。&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;本文作者：桐碧2018&lt;/p&gt;&lt;p&gt;&lt;a href=\&quot;http://link.zhihu.com/?target=http%3A//click.aliyun.com/m/1000019076/\&quot; class=\&quot; wrap external\&quot; target=\&quot;_blank\&quot; rel=\&quot;nofollow noreferrer\&quot;&gt;原文链接&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;更多技术干货敬请关注云栖社区知乎机构号：&lt;a href=\&quot;https://www.zhihu.com/org/a-li-yun-yun-qi-she-qu-48/activities\&quot; class=\&quot;internal\&quot;&gt;阿里云云栖社区 - 知乎&lt;/a&gt;&lt;/b&gt;&lt;/p&gt;&lt;p&gt;本文为云栖社区原创内容，未经允许不得转载。&lt;/p&gt;&quot;,&quot;commentCount&quot;:0,&quot;imageUrl&quot;:&quot;&quot;,&quot;linkbox&quot;:{&quot;url&quot;:&quot;&quot;,&quot;category&quot;:&quot;&quot;,&quot;pic&quot;:&quot;&quot;,&quot;title&quot;:&quot;&quot;},&quot;excerptNew&quot;:&quot;饿了么经过了10年的发展，日订单量从几十万到了千万，数据增长如此之快，数据库管理人员如何保障业务快速发展，实现高可用以及数据安全并且提高运维效率呢？本文中饿了么数据技术部负责人虢国飞就为大家揭晓答案。 饿了么的数据库需求背景 对于创业公司或者高速…&quot;,&quot;excerptTitle&quot;:&quot;&quot;,&quot;previewText&quot;:&quot;&quot;,&quot;voting&quot;:0,&quot;type&quot;:&quot;article&quot;}},&quot;columns&quot;:{},&quot;topics&quot;:{},&quot;roundtables&quot;:{},&quot;favlists&quot;:{},&quot;comments&quot;:{},&quot;notifications&quot;:{},&quot;ebooks&quot;:{},&quot;activities&quot;:{&quot;1539703887&quot;:{&quot;verb&quot;:&quot;ANSWER_VOTE_UP&quot;,&quot;target&quot;:{&quot;id&quot;:275191448,&quot;schema&quot;:&quot;answer&quot;},&quot;actor&quot;:{&quot;isFollowed&quot;:false,&quot;type&quot;:&quot;people&quot;,&quot;name&quot;:&quot;黄大洋&quot;,&quot;headline&quot;:&quot;&quot;,&quot;urlToken&quot;:&quot;huang-da-yang&quot;,&quot;userType&quot;:&quot;people&quot;,&quot;url&quot;:&quot;https://api.zhihu.com/people/ff3c15a9c32bdb1ebce6bec4c2e93160&quot;,&quot;avatarUrl&quot;:&quot;https://pic4.zhimg.com/50/da8e974dc_s.jpg&quot;,&quot;isFollowing&quot;:false,&quot;isOrg&quot;:false,&quot;gender&quot;:1,&quot;badge&quot;:[],&quot;id&quot;:&quot;ff3c15a9c32bdb1ebce6bec4c2e93160&quot;},&quot;actionText&quot;:&quot;赞同了回答&quot;,&quot;createdTime&quot;:1539703887,&quot;type&quot;:&quot;feed&quot;,&quot;id&quot;:&quot;1539703887&quot;},&quot;1539926134&quot;:{&quot;verb&quot;:&quot;MEMBER_VOTEUP_ARTICLE&quot;,&quot;target&quot;:{&quot;id&quot;:44501261,&quot;schema&quot;:&quot;article&quot;},&quot;actor&quot;:{&quot;isFollowed&quot;:false,&quot;type&quot;:&quot;people&quot;,&quot;name&quot;:&quot;黄大洋&quot;,&quot;headline&quot;:&quot;&quot;,&quot;urlToken&quot;:&quot;huang-da-yang&quot;,&quot;userType&quot;:&quot;people&quot;,&quot;url&quot;:&quot;https://api.zhihu.com/people/ff3c15a9c32bdb1ebce6bec4c2e93160&quot;,&quot;avatarUrl&quot;:&quot;https://pic4.zhimg.com/50/da8e974dc_s.jpg&quot;,&quot;isFollowing&quot;:false,&quot;isOrg&quot;:false,&quot;gender&quot;:1,&quot;badge&quot;:[],&quot;id&quot;:&quot;ff3c15a9c32bdb1ebce6bec4c2e93160&quot;},&quot;actionText&quot;:&quot;赞了文章&quot;,&quot;createdTime&quot;:1539926134,&quot;type&quot;:&quot;feed&quot;,&quot;id&quot;:&quot;1539926134&quot;},&quot;1539926136&quot;:{&quot;verb&quot;:&quot;MEMBER_COLLECT_ARTICLE&quot;,&quot;target&quot;:{&quot;id&quot;:44501261,&quot;schema&quot;:&quot;article&quot;},&quot;extraObject&quot;:{&quot;title&quot;:&quot;temp&quot;,&quot;url&quot;:&quot;https://api.zhihu.com/collections/31529393&quot;,&quot;answerCount&quot;:182,&quot;isFollowing&quot;:false,&quot;followerCount&quot;:0,&quot;isPublic&quot;:true,&quot;type&quot;:&quot;collection&quot;,&quot;id&quot;:31529393},&quot;actor&quot;:{&quot;isFollowed&quot;:false,&quot;type&quot;:&quot;people&quot;,&quot;name&quot;:&quot;黄大洋&quot;,&quot;headline&quot;:&quot;&quot;,&quot;urlToken&quot;:&quot;huang-da-yang&quot;,&quot;userType&quot;:&quot;people&quot;,&quot;url&quot;:&quot;https://api.zhihu.com/people/ff3c15a9c32bdb1ebce6bec4c2e93160&quot;,&quot;avatarUrl&quot;:&quot;https://pic4.zhimg.com/50/da8e974dc_s.jpg&quot;,&quot;isFollowing&quot;:false,&quot;isOrg&quot;:false,&quot;gender&quot;:1,&quot;badge&quot;:[],&quot;id&quot;:&quot;ff3c15a9c32bdb1ebce6bec4c2e93160&quot;},&quot;actionText&quot;:&quot;收藏了文章&quot;,&quot;createdTime&quot;:1539926136,&quot;type&quot;:&quot;feed&quot;,&quot;id&quot;:&quot;1539926136&quot;},&quot;1540017749&quot;:{&quot;verb&quot;:&quot;MEMBER_VOTEUP_ARTICLE&quot;,&quot;target&quot;:{&quot;id&quot;:46777306,&quot;schema&quot;:&quot;article&quot;},&quot;actor&quot;:{&quot;isFollowed&quot;:false,&quot;type&quot;:&quot;people&quot;,&quot;name&quot;:&quot;黄大洋&quot;,&quot;headline&quot;:&quot;&quot;,&quot;urlToken&quot;:&quot;huang-da-yang&quot;,&quot;userType&quot;:&quot;people&quot;,&quot;url&quot;:&quot;https://api.zhihu.com/people/ff3c15a9c32bdb1ebce6bec4c2e93160&quot;,&quot;avatarUrl&quot;:&quot;https://pic4.zhimg.com/50/da8e974dc_s.jpg&quot;,&quot;isFollowing&quot;:false,&quot;isOrg&quot;:false,&quot;gender&quot;:1,&quot;badge&quot;:[],&quot;id&quot;:&quot;ff3c15a9c32bdb1ebce6bec4c2e93160&quot;},&quot;actionText&quot;:&quot;赞了文章&quot;,&quot;createdTime&quot;:1540017749,&quot;type&quot;:&quot;feed&quot;,&quot;id&quot;:&quot;1540017749&quot;},&quot;1540017754&quot;:{&quot;verb&quot;:&quot;MEMBER_COLLECT_ARTICLE&quot;,&quot;target&quot;:{&quot;id&quot;:46777306,&quot;schema&quot;:&quot;article&quot;},&quot;extraObject&quot;:{&quot;title&quot;:&quot;a&quot;,&quot;url&quot;:&quot;https://api.zhihu.com/collections/26712572&quot;,&quot;answerCount&quot;:522,&quot;isFollowing&quot;:false,&quot;followerCount&quot;:0,&quot;isPublic&quot;:true,&quot;type&quot;:&quot;collection&quot;,&quot;id&quot;:26712572},&quot;actor&quot;:{&quot;isFollowed&quot;:false,&quot;type&quot;:&quot;people&quot;,&quot;name&quot;:&quot;黄大洋&quot;,&quot;headline&quot;:&quot;&quot;,&quot;urlToken&quot;:&quot;huang-da-yang&quot;,&quot;userType&quot;:&quot;people&quot;,&quot;url&quot;:&quot;https://api.zhihu.com/people/ff3c15a9c32bdb1ebce6bec4c2e93160&quot;,&quot;avatarUrl&quot;:&quot;https://pic4.zhimg.com/50/da8e974dc_s.jpg&quot;,&quot;isFollowing&quot;:false,&quot;isOrg&quot;:false,&quot;gender&quot;:1,&quot;badge&quot;:[],&quot;id&quot;:&quot;ff3c15a9c32bdb1ebce6bec4c2e93160&quot;},&quot;actionText&quot;:&quot;收藏了文章&quot;,&quot;createdTime&quot;:1540017754,&quot;type&quot;:&quot;feed&quot;,&quot;id&quot;:&quot;1540017754&quot;},&quot;1540022266&quot;:{&quot;verb&quot;:&quot;MEMBER_COLLECT_ARTICLE&quot;,&quot;target&quot;:{&quot;id&quot;:44501261,&quot;schema&quot;:&quot;article&quot;},&quot;extraObject&quot;:{&quot;title&quot;:&quot;a&quot;,&quot;url&quot;:&quot;https://api.zhihu.com/collections/26712572&quot;,&quot;answerCount&quot;:522,&quot;isFollowing&quot;:false,&quot;followerCount&quot;:0,&quot;isPublic&quot;:true,&quot;type&quot;:&quot;collection&quot;,&quot;id&quot;:26712572},&quot;actor&quot;:{&quot;isFollowed&quot;:false,&quot;type&quot;:&quot;people&quot;,&quot;name&quot;:&quot;黄大洋&quot;,&quot;headline&quot;:&quot;&quot;,&quot;urlToken&quot;:&quot;huang-da-yang&quot;,&quot;userType&quot;:&quot;people&quot;,&quot;url&quot;:&quot;https://api.zhihu.com/people/ff3c15a9c32bdb1ebce6bec4c2e93160&quot;,&quot;avatarUrl&quot;:&quot;https://pic4.zhimg.com/50/da8e974dc_s.jpg&quot;,&quot;isFollowing&quot;:false,&quot;isOrg&quot;:false,&quot;gender&quot;:1,&quot;badge&quot;:[],&quot;id&quot;:&quot;ff3c15a9c32bdb1ebce6bec4c2e93160&quot;},&quot;actionText&quot;:&quot;收藏了文章&quot;,&quot;createdTime&quot;:1540022266,&quot;type&quot;:&quot;feed&quot;,&quot;id&quot;:&quot;1540022266&quot;},&quot;1540033766&quot;:{&quot;verb&quot;:&quot;MEMBER_VOTEUP_ARTICLE&quot;,&quot;target&quot;:{&quot;id&quot;:47172841,&quot;schema&quot;:&quot;article&quot;},&quot;actor&quot;:{&quot;isFollowed&quot;:false,&quot;type&quot;:&quot;people&quot;,&quot;name&quot;:&quot;黄大洋&quot;,&quot;headline&quot;:&quot;&quot;,&quot;urlToken&quot;:&quot;huang-da-yang&quot;,&quot;userType&quot;:&quot;people&quot;,&quot;url&quot;:&quot;https://api.zhihu.com/people/ff3c15a9c32bdb1ebce6bec4c2e93160&quot;,&quot;avatarUrl&quot;:&quot;https://pic4.zhimg.com/50/da8e974dc_s.jpg&quot;,&quot;isFollowing&quot;:false,&quot;isOrg&quot;:false,&quot;gender&quot;:1,&quot;badge&quot;:[],&quot;id&quot;:&quot;ff3c15a9c32bdb1ebce6bec4c2e93160&quot;},&quot;actionText&quot;:&quot;赞了文章&quot;,&quot;createdTime&quot;:1540033766,&quot;type&quot;:&quot;feed&quot;,&quot;id&quot;:&quot;1540033766&quot;}},&quot;feeds&quot;:{},&quot;pins&quot;:{},&quot;promotions&quot;:{},&quot;drafts&quot;:{}},&quot;currentUser&quot;:&quot;&quot;,&quot;account&quot;:{&quot;lockLevel&quot;:{},&quot;unlockTicketStatus&quot;:false,&quot;unlockTicket&quot;:null,&quot;challenge&quot;:[],&quot;errorStatus&quot;:false,&quot;message&quot;:&quot;&quot;,&quot;isFetching&quot;:false,&quot;accountInfo&quot;:{},&quot;urlToken&quot;:{&quot;loading&quot;:false}},&quot;settings&quot;:{&quot;socialBind&quot;:null,&quot;inboxMsg&quot;:null,&quot;notification&quot;:{},&quot;email&quot;:{},&quot;privacyFlag&quot;:null,&quot;blockedUsers&quot;:{&quot;isFetching&quot;:false,&quot;paging&quot;:{&quot;pageNo&quot;:1,&quot;pageSize&quot;:6},&quot;data&quot;:[]},&quot;blockedFollowees&quot;:{&quot;isFetching&quot;:false,&quot;paging&quot;:{&quot;pageNo&quot;:1,&quot;pageSize&quot;:6},&quot;data&quot;:[]},&quot;ignoredTopics&quot;:{&quot;isFetching&quot;:false,&quot;paging&quot;:{&quot;pageNo&quot;:1,&quot;pageSize&quot;:6},&quot;data&quot;:[]},&quot;restrictedTopics&quot;:null,&quot;laboratory&quot;:{}},&quot;notification&quot;:{},&quot;people&quot;:{&quot;profileStatus&quot;:{&quot;huang-da-yang&quot;:{&quot;token&quot;:{&quot;id&quot;:&quot;ff3c15a9c32bdb1ebce6bec4c2e93160&quot;,&quot;urlToken&quot;:&quot;huang-da-yang&quot;},&quot;isFetching&quot;:false,&quot;isDrained&quot;:true}},&quot;activitiesByUser&quot;:{&quot;huang-da-yang&quot;:{&quot;isFetching&quot;:false,&quot;isDrained&quot;:false,&quot;ids&quot;:[&quot;1540033766&quot;,&quot;1540022266&quot;,&quot;1540017754&quot;,&quot;1540017749&quot;,&quot;1539926136&quot;,&quot;1539926134&quot;,&quot;1539703887&quot;],&quot;newIds&quot;:[&quot;1540033766&quot;,&quot;1540022266&quot;,&quot;1540017754&quot;,&quot;1540017749&quot;,&quot;1539926136&quot;,&quot;1539926134&quot;,&quot;1539703887&quot;],&quot;previous&quot;:&quot;http://www.zhihu.com/api/v4/members/huang-da-yang/activities?before_id=1540033766&amp;limit=7&amp;desktop=True&quot;,&quot;next&quot;:&quot;http://www.zhihu.com/api/v4/members/huang-da-yang/activities?limit=7&amp;after_id=1539703887&amp;desktop=True&quot;}},&quot;answersByUser&quot;:{},&quot;answersSortByVotesByUser&quot;:{},&quot;answersIncludedByUser&quot;:{},&quot;votedAnswersByUser&quot;:{},&quot;thankedAnswersByUser&quot;:{},&quot;voteAnswersByUser&quot;:{},&quot;thankAnswersByUser&quot;:{},&quot;topicAnswersByUser&quot;:{},&quot;articlesByUser&quot;:{},&quot;articlesSortByVotesByUser&quot;:{},&quot;articlesIncludedByUser&quot;:{},&quot;pinsByUser&quot;:{},&quot;questionsByUser&quot;:{},&quot;commercialQuestionsByUser&quot;:{},&quot;favlistsByUser&quot;:{},&quot;followingByUser&quot;:{},&quot;followersByUser&quot;:{},&quot;mutualsByUser&quot;:{},&quot;followingColumnsByUser&quot;:{},&quot;followingQuestionsByUser&quot;:{},&quot;followingFavlistsByUser&quot;:{},&quot;followingTopicsByUser&quot;:{},&quot;publicationsByUser&quot;:{},&quot;columnsByUser&quot;:{},&quot;allFavlistsByUser&quot;:{},&quot;brands&quot;:null},&quot;env&quot;:{&quot;ab&quot;:{&quot;config&quot;:{&quot;experiments&quot;:[{&quot;expId&quot;:&quot;launch-ad_ios_lans-2&quot;,&quot;expPrefix&quot;:&quot;ad_ios_lans&quot;,&quot;isDynamicallyUpdated&quot;:true,&quot;isRuntime&quot;:true,&quot;includeTriggerInfo&quot;:false},{&quot;expId&quot;:&quot;launch-gw_adr_dkts-9&quot;,&quot;expPrefix&quot;:&quot;gw_adr_dkts&quot;,&quot;isDynamicallyUpdated&quot;:true,&quot;isRuntime&quot;:false,&quot;includeTriggerInfo&quot;:false},{&quot;expId&quot;:&quot;launch-gw_adr_mini-2&quot;,&quot;expPrefix&quot;:&quot;gw_adr_mini&quot;,&quot;isDynamicallyUpdated&quot;:true,&quot;isRuntime&quot;:false,&quot;includeTriggerInfo&quot;:false},{&quot;expId&quot;:&quot;launch-gw_adr_wbtp-2&quot;,&quot;expPrefix&quot;:&quot;gw_adr_wbtp&quot;,&quot;isDynamicallyUpdated&quot;:true,&quot;isRuntime&quot;:false,&quot;includeTriggerInfo&quot;:false},{&quot;expId&quot;:&quot;launch-gw_adr_wxfb-2&quot;,&quot;expPrefix&quot;:&quot;gw_adr_wxfb&quot;,&quot;isDynamicallyUpdated&quot;:true,&quot;isRuntime&quot;:false,&quot;includeTriggerInfo&quot;:false},{&quot;expId&quot;:&quot;launch-gw_anr_wxbk-2&quot;,&quot;expPrefix&quot;:&quot;gw_anr_wxbk&quot;,&quot;isDynamicallyUpdated&quot;:true,&quot;isRuntime&quot;:false,&quot;includeTriggerInfo&quot;:false},{&quot;expId&quot;:&quot;launch-gw_ios_dkts-8&quot;,&quot;expPrefix&quot;:&quot;gw_ios_dkts&quot;,&quot;isDynamicallyUpdated&quot;:true,&quot;isRuntime&quot;:false,&quot;includeTriggerInfo&quot;:false},{&quot;expId&quot;:&quot;launch-gw_ios_mini-2&quot;,&quot;expPrefix&quot;:&quot;gw_ios_mini&quot;,&quot;isDynamicallyUpdated&quot;:true,&quot;isRuntime&quot;:false,&quot;includeTriggerInfo&quot;:false},{&quot;expId&quot;:&quot;launch-gw_ios_wxb-2&quot;,&quot;expPrefix&quot;:&quot;gw_ios_wxb&quot;,&quot;isDynamicallyUpdated&quot;:true,&quot;isRuntime&quot;:false,&quot;includeTriggerInfo&quot;:false},{&quot;expId&quot;:&quot;launch-gw_ios_wxfb-1&quot;,&quot;expPrefix&quot;:&quot;gw_ios_wxfb&quot;,&quot;isDynamicallyUpdated&quot;:true,&quot;isRuntime&quot;:false,&quot;includeTriggerInfo&quot;:false},{&quot;expId&quot;:&quot;launch-gw_wbtp-2&quot;,&quot;expPrefix&quot;:&quot;gw_wbtp&quot;,&quot;isDynamicallyUpdated&quot;:true,&quot;isRuntime&quot;:false,&quot;includeTriggerInfo&quot;:false},{&quot;expId&quot;:&quot;launch-mp_amap_ios-1&quot;,&quot;expPrefix&quot;:&quot;mp_amap_ios&quot;,&quot;isDynamicallyUpdated&quot;:true,&quot;isRuntime&quot;:false,&quot;includeTriggerInfo&quot;:false},{&quot;expId&quot;:&quot;launch-mp_apm-1&quot;,&quot;expPrefix&quot;:&quot;mp_apm&quot;,&quot;isDynamicallyUpdated&quot;:true,&quot;isRuntime&quot;:false,&quot;includeTriggerInfo&quot;:false},{&quot;expId&quot;:&quot;launch-mp_hb_si-3&quot;,&quot;expPrefix&quot;:&quot;mp_hb_si&quot;,&quot;isDynamicallyUpdated&quot;:true,&quot;isRuntime&quot;:false,&quot;includeTriggerInfo&quot;:false},{&quot;expId&quot;:&quot;launch-mp_ios_bvc-2&quot;,&quot;expPrefix&quot;:&quot;mp_ios_bvc&quot;,&quot;isDynamicallyUpdated&quot;:true,&quot;isRuntime&quot;:false,&quot;includeTriggerInfo&quot;:false},{&quot;expId&quot;:&quot;launch-mp_ios_webp-2&quot;,&quot;expPrefix&quot;:&quot;mp_ios_webp&quot;,&quot;isDynamicallyUpdated&quot;:true,&quot;isRuntime&quot;:false,&quot;includeTriggerInfo&quot;:false},{&quot;expId&quot;:&quot;launch-mp_video_feed-2&quot;,&quot;expPrefix&quot;:&quot;mp_video_feed&quot;,&quot;isDynamicallyUpdated&quot;:false,&quot;isRuntime&quot;:false,&quot;includeTriggerInfo&quot;:false},{&quot;expId&quot;:&quot;launch-se_ios_topsearch-2&quot;,&quot;expPrefix&quot;:&quot;se_ios_topsearch&quot;,&quot;isDynamicallyUpdated&quot;:false,&quot;isRuntime&quot;:false,&quot;includeTriggerInfo&quot;:false},{&quot;expId&quot;:&quot;launch-top_dtmt-10&quot;,&quot;expPrefix&quot;:&quot;top_dtmt&quot;,&quot;isDynamicallyUpdated&quot;:true,&quot;isRuntime&quot;:false,&quot;includeTriggerInfo&quot;:false},{&quot;expId&quot;:&quot;launch-top_feed_card-1&quot;,&quot;expPrefix&quot;:&quot;top_feed_card&quot;,&quot;isDynamicallyUpdated&quot;:true,&quot;isRuntime&quot;:false,&quot;includeTriggerInfo&quot;:false},{&quot;expId&quot;:&quot;launch-vd_adrupload_cdn-2&quot;,&quot;expPrefix&quot;:&quot;vd_adrupload_cdn&quot;,&quot;isDynamicallyUpdated&quot;:false,&quot;isRuntime&quot;:false,&quot;includeTriggerInfo&quot;:false},{&quot;expId&quot;:&quot;launch-vd_upload_cdn-2&quot;,&quot;expPrefix&quot;:&quot;vd_upload_cdn&quot;,&quot;isDynamicallyUpdated&quot;:false,&quot;isRuntime&quot;:false,&quot;includeTriggerInfo&quot;:false},{&quot;expId&quot;:&quot;top_ftc-22&quot;,&quot;expPrefix&quot;:&quot;top_ftc&quot;,&quot;isDynamicallyUpdated&quot;:true,&quot;isRuntime&quot;:false,&quot;includeTriggerInfo&quot;:false}],&quot;params&quot;:[{&quot;id&quot;:&quot;ios_ios_launch_mp4&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;},{&quot;id&quot;:&quot;ios_video_upload_cdn&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;},{&quot;id&quot;:&quot;se_major_onebox&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;major&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_billab&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_gr_topic_reweight&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_nucc&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;ios_topsearch&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;},{&quot;id&quot;:&quot;top_nad&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_pre_load_html&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;hb_stream_render&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_quill_editor&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;se_daxuechuisou&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;old&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_spec_promo&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_book_is_card&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;adr_recommend_column&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;adr_spic&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_ad_cta&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_pdf&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;n&quot;},{&quot;id&quot;:&quot;ios_webp&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;},{&quot;id&quot;:&quot;top_mlt_model&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_mbv&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;false&quot;},{&quot;id&quot;:&quot;top_multi_model&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_cta&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;adr_q_bar&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;NO&quot;},{&quot;id&quot;:&quot;ios_cashier_color&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_q_a_c&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_ad_skip_pos&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;up&quot;},{&quot;id&quot;:&quot;top_nuc&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_launch_ad_new_strategy&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;open&quot;},{&quot;id&quot;:&quot;ios_wxfb&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ls_play_continuous_order&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;2&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;se_gi&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;tp_sft&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;a&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_cashier_color&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_apm&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;},{&quot;id&quot;:&quot;ios_launch_timeout&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;-1&quot;},{&quot;id&quot;:&quot;adr_feed_video_continuous&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;adr_wxbk&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;},{&quot;id&quot;:&quot;ios_real_time_launch_http&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;http_off&quot;},{&quot;id&quot;:&quot;adr_android_medal_badge_view&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;false&quot;},{&quot;id&quot;:&quot;adr_anr_watch&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;false&quot;},{&quot;id&quot;:&quot;adr_traffic_leak&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;false&quot;},{&quot;id&quot;:&quot;top_follow_reason&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;tp_write_pin_guide&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_anp&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;android_answer_pager_off&quot;},{&quot;id&quot;:&quot;hb_live_btn_color&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;default_color&quot;},{&quot;id&quot;:&quot;ios_next_ans&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;N&quot;},{&quot;id&quot;:&quot;top_rank&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;web_logoc&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;blue&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;web_new_comment&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;zr_ans_rec&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;gbrank&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;ios_medal_badge_view&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;false&quot;},{&quot;id&quot;:&quot;top_gr_auto_model&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_prt&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;false&quot;},{&quot;id&quot;:&quot;ios_mlssq&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;top_hca&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;web_ask_flow&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;exp_a&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;web_heifetz_column_api2&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;adr_profile_medal&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;adr_topsearch&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;2&quot;},{&quot;id&quot;:&quot;hb_billboard&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;pin_efs&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;orig&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_adpar&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_feedre_itemcf&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;31&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_topic_feedre&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;21&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_comment_new_editor&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;adr_sdk_data_switch&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;adr_unif&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;off&quot;},{&quot;id&quot;:&quot;se_ingress&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;off&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;se_minor_onebox&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;d&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_root_few_topic&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_rlp&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;adr_use_gd&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;n&quot;},{&quot;id&quot;:&quot;ios_comment&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;top_memberfree&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_test_4_liguangyi&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;web_question_invite&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;N&quot;},{&quot;id&quot;:&quot;adr_next_answer_btn&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;adr_question_invite_v2&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;adr_wxfb&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;top_feedre&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;ios_1752&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_more_editcard&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;true&quot;},{&quot;id&quot;:&quot;ios_profile_sig&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;true&quot;},{&quot;id&quot;:&quot;pin_ef&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;orig&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;se_refactored_search_index&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_dkts&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;200&quot;},{&quot;id&quot;:&quot;adr_new_roundtable&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;false&quot;},{&quot;id&quot;:&quot;adr_video_topic_volume_control&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;top_pfq&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_videos_priority&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;-1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_test_delete&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_book_is_card&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;},{&quot;id&quot;:&quot;se_merger&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_billread&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_newfollow&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_tr&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;se_new_market_search&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;off&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_feedre_cpt&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;101&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_recall_core_interest&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;81&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_wbtp&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;},{&quot;id&quot;:&quot;top_recall&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_yhgc&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;ios_le_nav&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_magitab&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_searchbox&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_wbtp&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;},{&quot;id&quot;:&quot;top_cc_at&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_user_gift&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_grow_guide_login_4&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;3&quot;},{&quot;id&quot;:&quot;hb_major_onebox&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_video_agent_4_22&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;false&quot;},{&quot;id&quot;:&quot;top_vds_alb_pos&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_ans_video&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;N&quot;},{&quot;id&quot;:&quot;adr_video_upload_cdn&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;},{&quot;id&quot;:&quot;top_tffrt&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_tmt&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;web_stream_render&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;adr_new_hybrid&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_db_n_e&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;top_30&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_gr_model&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;ios_consultation&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;adr_consult&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;adr_member_switch&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;top_no_weighing&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_editor_version&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;V2&quot;},{&quot;id&quot;:&quot;hb_unfollow_reason&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;top_root_web&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_vdio_rew&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_uit&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_liguangi_test&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;},{&quot;id&quot;:&quot;hb_liguangyi_test&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;},{&quot;id&quot;:&quot;ios_asp&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;off&quot;},{&quot;id&quot;:&quot;ios_hybrid_editor_v3&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;se_dt&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_hqt&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_keywordab&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_video_fix_position&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;web_card_style&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;b&quot;},{&quot;id&quot;:&quot;hb_report&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_adr_vid_vol&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_psn&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;n&quot;},{&quot;id&quot;:&quot;se_consulting_switch&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;off&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_billvideo&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_recall_follow_user&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;91&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_comment&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;false&quot;},{&quot;id&quot;:&quot;adr_traffic_threshold&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;314572800&quot;},{&quot;id&quot;:&quot;ios_hybrid_intercepting&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;},{&quot;id&quot;:&quot;ios_video_feed&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;},{&quot;id&quot;:&quot;top_f_r_nb&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_recall_tb_short&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;61&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_ques_comment&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_mini&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;},{&quot;id&quot;:&quot;top_recommend_topic_card&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_android_video_continuous&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;adr_guest_login&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;hb_best_answerer&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;top_root&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_android_launch_ad_mp4&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;open&quot;},{&quot;id&quot;:&quot;ios_video_continuous&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_vid_home&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;top_card&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;-1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_ebook&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;tp_ios_topic_write_pin_guide&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;web_column_auto_invite&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;adr_mqtt&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;adr_real_time_launch_http&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;http_off&quot;},{&quot;id&quot;:&quot;ios_7324&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;se_rescore&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_billpic&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_raf&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;n&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;ios_x_z_c0&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;},{&quot;id&quot;:&quot;adr_ps&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_ps&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;top_follow_question_hybrid&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_retag&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_video_score&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;ios_answer_preload&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_article_new_comment&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_profile_badge&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;true&quot;},{&quot;id&quot;:&quot;top_vd_score_new&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_profile_label&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;},{&quot;id&quot;:&quot;ios_input_image&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;top_recall_tb&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_sqtc&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;},{&quot;id&quot;:&quot;ios_notif_new_invite&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;off&quot;},{&quot;id&quot;:&quot;top_alt&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_new_user_gift&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_sjre&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_article_new_comment&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_invite_ans&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;A&quot;},{&quot;id&quot;:&quot;top_billboard_count&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_roundtable&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_vd_op&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_new_answer_pager&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;false&quot;},{&quot;id&quot;:&quot;ios_ad_web_cache&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;top_ad_slot&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_feedtopiccard&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_hweb&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_root_ac&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;hb_recommend_column&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_article_recommend_column&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_question_new_comment&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;se_correct_ab&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_more_hyb_card&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_dkts&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;20&quot;},{&quot;id&quot;:&quot;ios_km_center&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;top_gif&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_bugly&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;n&quot;},{&quot;id&quot;:&quot;hb_consulting_price&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;np&quot;},{&quot;id&quot;:&quot;top_promo&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_consultation&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;adr_edit_question&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_q_bar&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;NO&quot;},{&quot;id&quot;:&quot;top_keyword&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_yc&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;ios_ff_cardtype&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;A&quot;},{&quot;id&quot;:&quot;top_billupdate1&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;2&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_newfollowans&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_universalebook&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_android_gdt&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;open&quot;},{&quot;id&quot;:&quot;adr_pdf&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;n&quot;},{&quot;id&quot;:&quot;adr_traffic_monitor&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;false&quot;},{&quot;id&quot;:&quot;ios_pay_view&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;new&quot;},{&quot;id&quot;:&quot;se_gemini_service&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;content&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_is_gr&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_tagore&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;se_relevant_query&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;old&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_dtmt&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;2&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_v_album&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_mqtt_5_24_0&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;se_entity&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;on&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;se_wiki_box&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_an&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_bill&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_nid&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_feedre_rtt&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;41&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_lowup&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_ntr&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_quality&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_sj&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;2&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_video_rew&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;ios_wxbk&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;},{&quot;id&quot;:&quot;top_free_content&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;-1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_root_mg&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;ios_answer_hybrid_preload&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_lssq&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_spic&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;top_slot_ad_pos&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_nszt&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_perm&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;adr_unfollow_reason&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_ge4&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;3&quot;},{&quot;id&quot;:&quot;ios_question_invite_v2&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;top_login_card&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_manual_tag&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_nmt&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_recall_tb_follow&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;71&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_use_cashier&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;new&quot;},{&quot;id&quot;:&quot;se_consulting_price&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;n&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_retagg&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;ios_lans&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;close&quot;},{&quot;id&quot;:&quot;ls_new_video&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;se_tf&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_local_server_enable&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;adr_mini&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;},{&quot;id&quot;:&quot;ios_qtoc&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_roundtable&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;A&quot;},{&quot;id&quot;:&quot;tp_discussion_feed_card_type&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_task_statistics&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;false&quot;},{&quot;id&quot;:&quot;ios_amap&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;y&quot;},{&quot;id&quot;:&quot;se_auto_syn&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_recall_tb_long&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;51&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;hb_active_answerer&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;top_distinction&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_followtop&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_recall_deep_user&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;1&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;adr_invite&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;false&quot;},{&quot;id&quot;:&quot;adr_medal&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;ios_vid_qt&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;},{&quot;id&quot;:&quot;top_fqa&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;},{&quot;id&quot;:&quot;top_tag_isolation&quot;,&quot;type&quot;:&quot;String&quot;,&quot;value&quot;:&quot;0&quot;,&quot;chainId&quot;:&quot;_all_&quot;}],&quot;chains&quot;:[{&quot;chainId&quot;:&quot;_all_&quot;}]},&quot;triggers&quot;:{}},&quot;userAgent&quot;:{&quot;Edge&quot;:false,&quot;Wechat&quot;:false,&quot;Weibo&quot;:false,&quot;QQ&quot;:false,&quot;Mobile&quot;:false,&quot;Android&quot;:false,&quot;iOS&quot;:false,&quot;isAppleDevice&quot;:false,&quot;Zhihu&quot;:false,&quot;ZhihuHybrid&quot;:false,&quot;isBot&quot;:false,&quot;Tablet&quot;:false,&quot;UC&quot;:false,&quot;Sogou&quot;:false,&quot;Qihoo&quot;:false,&quot;Baidu&quot;:false,&quot;isWebView&quot;:false,&quot;origin&quot;:&quot;Custom User Agent&quot;},&quot;trafficSource&quot;:&quot;production&quot;,&quot;edition&quot;:{&quot;baidu&quot;:false,&quot;sogou&quot;:false,&quot;baiduBeijing&quot;:false,&quot;yidianzixun&quot;:false},&quot;theme&quot;:&quot;light&quot;,&quot;referer&quot;:&quot;&quot;,&quot;conf&quot;:{},&quot;ipInfo&quot;:{},&quot;logged&quot;:false,&quot;tdkInfo&quot;:{}},&quot;me&quot;:{&quot;accountInfoLoadStatus&quot;:{},&quot;organizationProfileStatus&quot;:{},&quot;columnContributions&quot;:[]},&quot;comments&quot;:{&quot;stickers&quot;:[],&quot;commentWithPicPermission&quot;:{},&quot;notificationsComments&quot;:{},&quot;pagination&quot;:{},&quot;collapsed&quot;:{},&quot;reverse&quot;:{},&quot;reviewing&quot;:{},&quot;conversation&quot;:{},&quot;conversationMore&quot;:{},&quot;parent&quot;:{}},&quot;pushNotifications&quot;:{&quot;default&quot;:{&quot;isFetching&quot;:false,&quot;isDrained&quot;:false,&quot;ids&quot;:[]},&quot;follow&quot;:{&quot;isFetching&quot;:false,&quot;isDrained&quot;:false,&quot;ids&quot;:[]},&quot;vote_thank&quot;:{&quot;isFetching&quot;:false,&quot;isDrained&quot;:false,&quot;ids&quot;:[]},&quot;currentTab&quot;:&quot;default&quot;,&quot;notificationsCount&quot;:{&quot;default&quot;:0,&quot;follow&quot;:0,&quot;vote_thank&quot;:0}},&quot;messages&quot;:{&quot;data&quot;:{},&quot;currentTab&quot;:&quot;common&quot;,&quot;messageCount&quot;:0},&quot;register&quot;:{&quot;registerValidateSucceeded&quot;:null,&quot;registerValidateErrors&quot;:{},&quot;registerConfirmError&quot;:null,&quot;sendDigitsError&quot;:null,&quot;registerConfirmSucceeded&quot;:null},&quot;login&quot;:{&quot;loginUnregisteredError&quot;:false,&quot;loginBindWechatError&quot;:false,&quot;loginConfirmError&quot;:null,&quot;sendDigitsError&quot;:null,&quot;validateDigitsError&quot;:false,&quot;loginConfirmSucceeded&quot;:null,&quot;qrcodeLoginToken&quot;:&quot;&quot;,&quot;qrcodeLoginScanStatus&quot;:0,&quot;qrcodeLoginError&quot;:null,&quot;qrcodeLoginReturnNewToken&quot;:false},&quot;active&quot;:{&quot;sendDigitsError&quot;:null,&quot;activeConfirmSucceeded&quot;:null,&quot;activeConfirmError&quot;:null},&quot;switches&quot;:{},&quot;captcha&quot;:{&quot;captchaNeeded&quot;:false,&quot;captchaValidated&quot;:false,&quot;captchaBase64String&quot;:null,&quot;captchaValidationMessage&quot;:null,&quot;loginCaptchaExpires&quot;:false},&quot;sms&quot;:{&quot;supportedCountries&quot;:[]},&quot;coupon&quot;:{&quot;isRedeemingCoupon&quot;:false},&quot;question&quot;:{&quot;followers&quot;:{},&quot;concernedFollowers&quot;:{},&quot;answers&quot;:{},&quot;hiddenAnswers&quot;:{},&quot;createdAnswers&quot;:{},&quot;collapsedAnswers&quot;:{},&quot;notificationAnswers&quot;:{},&quot;invitationCandidates&quot;:{},&quot;inviters&quot;:{},&quot;invitees&quot;:{},&quot;similarQuestions&quot;:{},&quot;relatedCommodities&quot;:{},&quot;recommendReadings&quot;:{},&quot;bio&quot;:{},&quot;brand&quot;:{},&quot;permission&quot;:{},&quot;advancedStyle&quot;:{},&quot;commonAnswerCount&quot;:0,&quot;hiddenAnswerCount&quot;:0,&quot;meta&quot;:{},&quot;autoInvitation&quot;:{},&quot;simpleConcernedFollowers&quot;:{}},&quot;shareTexts&quot;:{},&quot;answers&quot;:{&quot;voters&quot;:{},&quot;copyrightApplicants&quot;:{},&quot;favlists&quot;:{},&quot;newAnswer&quot;:{},&quot;concernedUpvoters&quot;:{},&quot;simpleConcernedUpvoters&quot;:{}},&quot;banner&quot;:{},&quot;topic&quot;:{&quot;bios&quot;:{},&quot;hot&quot;:{},&quot;newest&quot;:{},&quot;top&quot;:{},&quot;unanswered&quot;:{},&quot;questions&quot;:{},&quot;followers&quot;:{},&quot;contributors&quot;:{},&quot;parent&quot;:{},&quot;children&quot;:{},&quot;bestAnswerers&quot;:{},&quot;wikiMeta&quot;:{},&quot;index&quot;:{},&quot;intro&quot;:{},&quot;meta&quot;:{},&quot;schema&quot;:{}},&quot;explore&quot;:{&quot;recommendations&quot;:{}},&quot;articles&quot;:{&quot;voters&quot;:{}},&quot;favlists&quot;:{&quot;relations&quot;:{}},&quot;pins&quot;:{&quot;voters&quot;:{}},&quot;topstory&quot;:{&quot;topstorys&quot;:{&quot;isFetching&quot;:false,&quot;isDrained&quot;:false,&quot;afterId&quot;:0,&quot;items&quot;:[],&quot;next&quot;:null},&quot;recommend&quot;:{&quot;isFetching&quot;:false,&quot;isDrained&quot;:false,&quot;afterId&quot;:0,&quot;items&quot;:[],&quot;next&quot;:null},&quot;follow&quot;:{&quot;isFetching&quot;:false,&quot;isDrained&quot;:false,&quot;afterId&quot;:0,&quot;items&quot;:[],&quot;next&quot;:null},&quot;followWonderful&quot;:{&quot;isFetching&quot;:false,&quot;isDrained&quot;:false,&quot;afterId&quot;:0,&quot;items&quot;:[],&quot;next&quot;:null},&quot;sidebar&quot;:null,&quot;announcement&quot;:{},&quot;hotList&quot;:[],&quot;guestFeeds&quot;:{&quot;isFetching&quot;:false,&quot;isDrained&quot;:false,&quot;afterId&quot;:0,&quot;items&quot;:[],&quot;next&quot;:null},&quot;followExtra&quot;:{&quot;isNewUser&quot;:null,&quot;isFetched&quot;:false,&quot;followCount&quot;:0,&quot;followers&quot;:[]}},&quot;upload&quot;:{},&quot;video&quot;:{&quot;data&quot;:{}},&quot;guide&quot;:{&quot;guide&quot;:{&quot;isFetching&quot;:false,&quot;isShowGuide&quot;:false}},&quot;reward&quot;:{&quot;answer&quot;:{},&quot;article&quot;:{},&quot;question&quot;:{}},&quot;search&quot;:{&quot;recommendSearch&quot;:[],&quot;topSearch&quot;:{},&quot;attachedInfo&quot;:{},&quot;nextOffset&quot;:{},&quot;generalByQuery&quot;:{},&quot;generalByQueryInADay&quot;:{},&quot;generalByQueryInAWeek&quot;:{},&quot;generalByQueryInThreeMonths&quot;:{},&quot;peopleByQuery&quot;:{},&quot;topicByQuery&quot;:{},&quot;columnByQuery&quot;:{},&quot;liveByQuery&quot;:{},&quot;albumByQuery&quot;:{},&quot;eBookByQuery&quot;:{}},&quot;creator&quot;:{&quot;tools&quot;:{&quot;question&quot;:{&quot;invitationCount&quot;:{&quot;questionFolloweeCount&quot;:0,&quot;questionTotalCount&quot;:0},&quot;goodatTopics&quot;:[]},&quot;customPromotion&quot;:{&quot;itemLists&quot;:{}}},&quot;explore&quot;:{&quot;academy&quot;:{&quot;tabs&quot;:[],&quot;article&quot;:{}}},&quot;rights&quot;:[],&quot;rightsStatus&quot;:{},&quot;levelUpperLimit&quot;:10,&quot;account&quot;:{&quot;growthLevel&quot;:{}}},&quot;publicEditPermission&quot;:{}}" data-config="false" data-useragent="{&quot;os&quot;:{},&quot;browser&quot;:{}}"></div><script src="https://static.zhihu.com/heifetz/vendor.7c9abc3e398528f8abf1.js"></script><script src="https://static.zhihu.com/heifetz/main.raven.20ecf75e0f2667f5d28a.js" defer=""></script><script src="https://static.zhihu.com/heifetz/main.app.88963c0c1a59d5eb2ece.js"></script><script src="https://static.zhihu.com/heifetz/main.people-routes.b6887e7d44fa143faf31.js"></script></body></html>